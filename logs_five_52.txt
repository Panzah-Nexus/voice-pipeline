2025-06-20T15:41:32.226798147Z ==========
2025-06-20T15:41:32.226838097Z == CUDA ==
2025-06-20T15:41:32.226981973Z ==========
2025-06-20T15:41:32.237404062Z CUDA Version 11.8.0
2025-06-20T15:41:32.237423198Z Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
2025-06-20T15:41:32.237443104Z This container image and its contents are governed by the NVIDIA Deep Learning Container License.
2025-06-20T15:41:32.237452323Z By pulling and using the container, you accept the terms and conditions of this license:
2025-06-20T15:41:32.237462660Z https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
2025-06-20T15:41:32.237480958Z A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
2025-06-20T15:41:32.284305763Z  * Starting OpenBSD Secure Shell server sshd
2025-06-20T15:41:32.294640827Z    ...done.
2025-06-20T15:41:32.294971812Z üîß Development mode starting...
2025-06-20T15:41:32.295152705Z üîÑ Cloning latest source code from cursor_oneshot branch...
2025-06-20T15:41:32.297196726Z Cloning into '/app/voice-pipeline-src'...
2025-06-20T15:41:51.089133249Z üìÅ Copying source code...
2025-06-20T15:41:51.094221859Z üöÄ Starting voice pipeline...
2025-06-20T15:41:51.568654140Z 2025-06-20 15:41:51.568 | INFO     | pipecat:<module>:14 - ·ìö·òè·ó¢ Pipecat 0.0.71 (Python 3.10.12 (main, May 27 2025, 17:12:29) [GCC 11.4.0]) ·ìö·òè·ó¢
2025-06-20T15:42:07.827819921Z 2025-06-20 15:42:07.827 | INFO     | src.pipecat_pipeline:<module>:58 - Loading UltravoxSTTService... this can take a while on first run.
2025-06-20T15:42:08.058613140Z Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T15:42:08.058642264Z 2025-06-20 15:42:08,058 - huggingface_hub._login - WARNING - Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T15:42:08.193537353Z INFO 06-20 15:42:08 __init__.py:207] Automatically detected platform cuda.
2025-06-20T15:42:16.196473454Z INFO 06-20 15:42:16 config.py:549] This model supports multiple tasks: {'generate', 'reward', 'classify', 'score', 'embed'}. Defaulting to 'generate'.
2025-06-20T15:42:16.201550610Z INFO 06-20 15:42:16 llm_engine.py:234] Initializing a V0 LLM engine (v0.7.3) with config: model='fixie-ai/ultravox-v0_5-llama-3_1-8b', speculative_config=None, tokenizer='fixie-ai/ultravox-v0_5-llama-3_1-8b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, override_neuron_config=None, tokenizer_revision=None, trust_remote_code=True, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=auto, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto,  device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='xgrammar'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=fixie-ai/ultravox-v0_5-llama-3_1-8b, num_scheduler_steps=1, multi_step_stream_outputs=True, enable_prefix_caching=False, chunked_prefill_enabled=False, use_async_output_proc=True, disable_mm_preprocessor_cache=False, mm_processor_kwargs=None, pooler_config=None, compilation_config={"splitting_ops":[],"compile_sizes":[],"cudagraph_capture_sizes":[256,248,240,232,224,216,208,200,192,184,176,168,160,152,144,136,128,120,112,104,96,88,80,72,64,56,48,40,32,24,16,8,4,2,1],"max_capture_size":256}, use_cached_outputs=False,
2025-06-20T15:42:25.054059201Z INFO 06-20 15:42:25 cuda.py:229] Using Flash Attention backend.
2025-06-20T15:42:25.534838380Z INFO 06-20 15:42:25 model_runner.py:1110] Starting to load model fixie-ai/ultravox-v0_5-llama-3_1-8b...
2025-06-20T15:42:25.763620753Z INFO 06-20 15:42:25 config.py:3054] cudagraph sizes specified by model runner [1, 2, 4, 8, 16, 24, 32, 40, 48, 56, 64, 72, 80, 88, 96, 104, 112, 120, 128, 136, 144, 152, 160, 168, 176, 184, 192, 200, 208, 216, 224, 232, 240, 248, 256] is overridden by config [256, 128, 2, 1, 4, 136, 8, 144, 16, 152, 24, 160, 32, 168, 40, 176, 48, 184, 56, 192, 64, 200, 72, 208, 80, 216, 88, 120, 224, 96, 232, 104, 240, 112, 248]
2025-06-20T15:42:26.257610496Z INFO 06-20 15:42:26 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T15:42:31.488689219Z INFO 06-20 15:42:31 weight_utils.py:270] Time spent downloading weights for fixie-ai/ultravox-v0_5-llama-3_1-8b: 5.229837 seconds
2025-06-20T15:42:31.621739758Z INFO 06-20 15:42:31 weight_utils.py:304] No model.safetensors.index.json found in remote.
2025-06-20T15:42:31.623228807Z Loading safetensors checkpoint shards:   0% Completed | 0/1 [00:00<?, ?it/s]
2025-06-20T15:42:31.883378578Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.85it/s]
2025-06-20T15:42:31.883611573Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.84it/s]
2025-06-20T15:42:32.162009392Z INFO 06-20 15:42:32 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T15:43:26.745244099Z INFO 06-20 15:43:26 weight_utils.py:270] Time spent downloading weights for meta-llama/Llama-3.1-8B-Instruct: 54.581634 seconds
2025-06-20T15:43:27.018075373Z Loading safetensors checkpoint shards:   0% Completed | 0/4 [00:00<?, ?it/s]
2025-06-20T15:43:27.643705249Z Loading safetensors checkpoint shards:  25% Completed | 1/4 [00:00<00:01,  1.60it/s]
2025-06-20T15:43:28.431209385Z Loading safetensors checkpoint shards:  50% Completed | 2/4 [00:01<00:01,  1.39it/s]
2025-06-20T15:43:28.816575982Z Loading safetensors checkpoint shards:  75% Completed | 3/4 [00:01<00:00,  1.76it/s]
2025-06-20T15:43:29.415836066Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.72it/s]
2025-06-20T15:43:29.415995866Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.67it/s]
2025-06-20T15:43:29.877607516Z INFO 06-20 15:43:29 model_runner.py:1115] Loading model weights took 16.2698 GB
2025-06-20T15:43:32.183164975Z A new version of the following files was downloaded from https://huggingface.co/fixie-ai/ultravox-v0_5-llama-3_1-8b:
2025-06-20T15:43:32.183182575Z - ultravox_config.py
2025-06-20T15:43:32.183188861Z . Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2025-06-20T15:43:32.183408307Z A new version of the following files was downloaded from https://huggingface.co/fixie-ai/ultravox-v0_5-llama-3_1-8b:
2025-06-20T15:43:32.183415501Z - ultravox_processing.py
2025-06-20T15:43:32.183421647Z - ultravox_config.py
2025-06-20T15:43:32.183426815Z . Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2025-06-20T15:43:47.130551694Z INFO 06-20 15:43:47 worker.py:267] Memory profiling takes 17.07 seconds
2025-06-20T15:43:47.130586895Z INFO 06-20 15:43:47 worker.py:267] the current vLLM instance can use total_gpu_memory (22.06GiB) x gpu_memory_utilization (0.90) = 19.85GiB
2025-06-20T15:43:47.130597022Z INFO 06-20 15:43:47 worker.py:267] model weights take 16.27GiB; non_torch_memory takes 0.05GiB; PyTorch activation peak memory takes 1.95GiB; the rest of the memory reserved for KV Cache is 1.59GiB.
2025-06-20T15:43:47.325172538Z INFO 06-20 15:43:47 executor_base.py:111] # cuda blocks: 813, # CPU blocks: 2048
2025-06-20T15:43:47.325223104Z INFO 06-20 15:43:47 executor_base.py:116] Maximum concurrency for 8192 tokens per request: 1.59x
2025-06-20T15:43:50.893375458Z INFO 06-20 15:43:50 model_runner.py:1434] Capturing cudagraphs for decoding. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI. If out-of-memory error occurs during cudagraph capture, consider decreasing `gpu_memory_utilization` or switching to eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.
2025-06-20T15:44:10.557697447Z Capturing CUDA graph shapes:   0%|          | 0/35 [00:00<?, ?it/s]Capturing CUDA graph shapes:   3%|‚ñé         | 1/35 [00:00<00:20,  1.65it/s]Capturing CUDA graph shapes:   6%|‚ñå         | 2/35 [00:01<00:20,  1.59it/s]Capturing CUDA graph shapes:   9%|‚ñä         | 3/35 [00:01<00:20,  1.57it/s]Capturing CUDA graph shapes:  11%|‚ñà‚ñè        | 4/35 [00:02<00:19,  1.58it/s]Capturing CUDA graph shapes:  14%|‚ñà‚ñç        | 5/35 [00:03<00:18,  1.59it/s]Capturing CUDA graph shapes:  17%|‚ñà‚ñã        | 6/35 [00:03<00:17,  1.62it/s]Capturing CUDA graph shapes:  20%|‚ñà‚ñà        | 7/35 [00:04<00:17,  1.64it/s]Capturing CUDA graph shapes:  23%|‚ñà‚ñà‚ñé       | 8/35 [00:04<00:16,  1.67it/s]Capturing CUDA graph shapes:  26%|‚ñà‚ñà‚ñå       | 9/35 [00:05<00:15,  1.70it/s]Capturing CUDA graph shapes:  29%|‚ñà‚ñà‚ñä       | 10/35 [00:06<00:14,  1.72it/s]Capturing CUDA graph shapes:  31%|‚ñà‚ñà‚ñà‚ñè      | 11/35 [00:06<00:13,  1.74it/s]Capturing CUDA graph shapes:  34%|‚ñà‚ñà‚ñà‚ñç      | 12/35 [00:07<00:13,  1.76it/s]Capturing CUDA graph shapes:  37%|‚ñà‚ñà‚ñà‚ñã      | 13/35 [00:07<00:12,  1.75it/s]Capturing CUDA graph shapes:  40%|‚ñà‚ñà‚ñà‚ñà      | 14/35 [00:08<00:12,  1.74it/s]Capturing CUDA graph shapes:  43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 15/35 [00:08<00:11,  1.72it/s]Capturing CUDA graph shapes:  46%|‚ñà‚ñà‚ñà‚ñà‚ñå     | 16/35 [00:09<00:11,  1.72it/s]Capturing CUDA graph shapes:  49%|‚ñà‚ñà‚ñà‚ñà‚ñä     | 17/35 [00:10<00:10,  1.75it/s]Capturing CUDA graph shapes:  51%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè    | 18/35 [00:10<00:09,  1.78it/s]Capturing CUDA graph shapes:  54%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    | 19/35 [00:11<00:08,  1.80it/s]Capturing CUDA graph shapes:  57%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã    | 20/35 [00:11<00:08,  1.82it/s]Capturing CUDA graph shapes:  60%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    | 21/35 [00:12<00:07,  1.83it/s]Capturing CUDA graph shapes:  63%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé   | 22/35 [00:12<00:07,  1.83it/s]Capturing CUDA graph shapes:  66%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå   | 23/35 [00:13<00:06,  1.84it/s]Capturing CUDA graph shapes:  69%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä   | 24/35 [00:13<00:05,  1.85it/s]Capturing CUDA graph shapes:  71%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  | 25/35 [00:14<00:05,  1.82it/s]Capturing CUDA graph shapes:  74%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  | 26/35 [00:14<00:04,  1.84it/s]Capturing CUDA graph shapes:  77%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã  | 27/35 [00:15<00:04,  1.86it/s]Capturing CUDA graph shapes:  80%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  | 28/35 [00:16<00:03,  1.84it/s]Capturing CUDA graph shapes:  83%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé | 29/35 [00:16<00:03,  1.85it/s]Capturing CUDA graph shapes:  86%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 30/35 [00:17<00:02,  1.86it/s]Capturing CUDA graph shapes:  89%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä | 31/35 [00:17<00:02,  1.88it/s]Capturing CUDA graph shapes:  91%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 32/35 [00:18<00:01,  1.88it/s]Capturing CUDA graph shapes:  94%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç| 33/35 [00:18<00:01,  1.90it/s]Capturing CUDA graph shapes:  97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 34/35 [00:19<00:00,  1.92it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:19<00:00,  1.92it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:19<00:00,  1.78it/s]
2025-06-20T15:44:10.557787614Z INFO 06-20 15:44:10 model_runner.py:1562] Graph capturing finished in 20 secs, took 0.26 GiB
2025-06-20T15:44:10.558791535Z INFO 06-20 15:44:10 llm_engine.py:436] init engine (profile, create kv cache, warmup model) took 40.68 seconds
2025-06-20T15:44:11.352200395Z 2025-06-20 15:44:11.351 | INFO     | pipecat.services.ultravox.stt:__init__:223 - Initialized UltravoxSTTService with model: fixie-ai/ultravox-v0_5-llama-3_1-8b
2025-06-20T15:44:11.352227145Z 2025-06-20 15:44:11.352 | INFO     | src.pipecat_pipeline:<module>:66 - Ultravox model initialized successfully!
2025-06-20T15:44:11.356505507Z 2025-06-20 15:44:11,355 - root - INFO - Starting voice pipeline server on 0.0.0.0:8000
2025-06-20T15:44:11.382902748Z INFO:     Started server process [102]
2025-06-20T15:44:11.382928450Z INFO:     Waiting for application startup.
2025-06-20T15:44:11.383366854Z INFO:     Application startup complete.
2025-06-20T15:44:11.383774666Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-06-20T15:44:29.719253801Z INFO:     100.64.0.36:42416 - "GET / HTTP/1.1" 200 OK
2025-06-20T15:44:30.671759760Z INFO:     100.64.0.32:49634 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-06-20T15:44:37.396274019Z INFO:     100.64.0.37:40678 - "GET / HTTP/1.1" 200 OK
2025-06-20T15:44:49.862132920Z INFO:     100.64.0.37:53580 - "GET / HTTP/1.1" 200 OK
2025-06-20T15:47:09.332857916Z ==========
2025-06-20T15:47:09.332906666Z == CUDA ==
2025-06-20T15:47:09.333027424Z ==========
2025-06-20T15:47:09.337747683Z CUDA Version 11.8.0
2025-06-20T15:47:09.339187912Z Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
2025-06-20T15:47:09.340676752Z This container image and its contents are governed by the NVIDIA Deep Learning Container License.
2025-06-20T15:47:09.340686320Z By pulling and using the container, you accept the terms and conditions of this license:
2025-06-20T15:47:09.340693863Z https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
2025-06-20T15:47:09.340708740Z A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
2025-06-20T15:47:09.374495213Z  * Starting OpenBSD Secure Shell server sshd
2025-06-20T15:47:09.386597441Z    ...done.
2025-06-20T15:47:09.386940299Z üîß Development mode starting...
2025-06-20T15:47:09.387042549Z üîÑ Updating source code...
2025-06-20T15:47:10.377316931Z From https://github.com/Panzah-Nexus/voice-pipeline
2025-06-20T15:47:10.377348430Z  * branch            cursor_oneshot -> FETCH_HEAD
2025-06-20T15:47:10.378072212Z    0616336..ab6203a  cursor_oneshot -> origin/cursor_oneshot
2025-06-20T15:47:10.538527824Z Updating 0616336..ab6203a
2025-06-20T15:47:10.538551990Z Fast-forward
2025-06-20T15:47:10.543236838Z  client/websocket-client/src/app.ts | 4 ++--
2025-06-20T15:47:10.543258699Z  docker/Dockerfile.dev              | 6 +++---
2025-06-20T15:47:10.543266451Z  src/main.py                        | 6 ++++--
2025-06-20T15:47:10.543273575Z  3 files changed, 9 insertions(+), 7 deletions(-)
2025-06-20T15:47:10.544819477Z üìÅ Copying source code...
2025-06-20T15:47:10.548178219Z üöÄ Starting voice pipeline...
2025-06-20T15:47:11.139743158Z 2025-06-20 15:47:11.139 | INFO     | pipecat:<module>:14 - ·ìö·òè·ó¢ Pipecat 0.0.71 (Python 3.10.12 (main, May 27 2025, 17:12:29) [GCC 11.4.0]) ·ìö·òè·ó¢
2025-06-20T15:47:33.807591853Z 2025-06-20 15:47:33.807 | INFO     | src.pipecat_pipeline:<module>:58 - Loading UltravoxSTTService... this can take a while on first run.
2025-06-20T15:47:34.098886361Z Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T15:47:34.098924076Z 2025-06-20 15:47:34,098 - huggingface_hub._login - WARNING - Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T15:47:34.208154157Z INFO 06-20 15:47:34 __init__.py:207] Automatically detected platform cuda.
2025-06-20T15:47:41.481291603Z INFO 06-20 15:47:41 config.py:549] This model supports multiple tasks: {'classify', 'reward', 'generate', 'score', 'embed'}. Defaulting to 'generate'.
2025-06-20T15:47:41.486203720Z INFO 06-20 15:47:41 llm_engine.py:234] Initializing a V0 LLM engine (v0.7.3) with config: model='fixie-ai/ultravox-v0_5-llama-3_1-8b', speculative_config=None, tokenizer='fixie-ai/ultravox-v0_5-llama-3_1-8b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, override_neuron_config=None, tokenizer_revision=None, trust_remote_code=True, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=auto, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto,  device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='xgrammar'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=fixie-ai/ultravox-v0_5-llama-3_1-8b, num_scheduler_steps=1, multi_step_stream_outputs=True, enable_prefix_caching=False, chunked_prefill_enabled=False, use_async_output_proc=True, disable_mm_preprocessor_cache=False, mm_processor_kwargs=None, pooler_config=None, compilation_config={"splitting_ops":[],"compile_sizes":[],"cudagraph_capture_sizes":[256,248,240,232,224,216,208,200,192,184,176,168,160,152,144,136,128,120,112,104,96,88,80,72,64,56,48,40,32,24,16,8,4,2,1],"max_capture_size":256}, use_cached_outputs=False,
2025-06-20T15:47:50.307590481Z INFO 06-20 15:47:50 cuda.py:229] Using Flash Attention backend.
2025-06-20T15:47:50.873877341Z INFO 06-20 15:47:50 model_runner.py:1110] Starting to load model fixie-ai/ultravox-v0_5-llama-3_1-8b...
2025-06-20T15:47:51.242409020Z INFO 06-20 15:47:51 config.py:3054] cudagraph sizes specified by model runner [1, 2, 4, 8, 16, 24, 32, 40, 48, 56, 64, 72, 80, 88, 96, 104, 112, 120, 128, 136, 144, 152, 160, 168, 176, 184, 192, 200, 208, 216, 224, 232, 240, 248, 256] is overridden by config [256, 128, 2, 1, 4, 136, 8, 144, 16, 152, 24, 160, 32, 168, 40, 176, 48, 184, 56, 192, 64, 200, 72, 208, 80, 216, 88, 120, 224, 96, 232, 104, 240, 112, 248]
2025-06-20T15:47:51.790861790Z INFO 06-20 15:47:51 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T15:47:52.056870117Z INFO 06-20 15:47:52 weight_utils.py:304] No model.safetensors.index.json found in remote.
2025-06-20T15:47:52.057930891Z Loading safetensors checkpoint shards:   0% Completed | 0/1 [00:00<?, ?it/s]
2025-06-20T15:47:52.882750729Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  1.21it/s]
2025-06-20T15:47:52.882958721Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  1.21it/s]
2025-06-20T15:47:53.156024248Z INFO 06-20 15:47:53 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T15:47:53.440159516Z Loading safetensors checkpoint shards:   0% Completed | 0/4 [00:00<?, ?it/s]
2025-06-20T15:47:54.327339162Z Loading safetensors checkpoint shards:  25% Completed | 1/4 [00:00<00:02,  1.13it/s]
2025-06-20T15:47:55.492106170Z Loading safetensors checkpoint shards:  50% Completed | 2/4 [00:02<00:02,  1.05s/it]
2025-06-20T15:47:56.044960785Z Loading safetensors checkpoint shards:  75% Completed | 3/4 [00:02<00:00,  1.21it/s]
2025-06-20T15:47:56.822898617Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:03<00:00,  1.24it/s]
2025-06-20T15:47:56.823068615Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:03<00:00,  1.18it/s]
2025-06-20T15:47:57.435481362Z INFO 06-20 15:47:57 model_runner.py:1115] Loading model weights took 16.2698 GB
2025-06-20T15:48:14.840539613Z INFO 06-20 15:48:14 worker.py:267] Memory profiling takes 17.19 seconds
2025-06-20T15:48:14.840578305Z INFO 06-20 15:48:14 worker.py:267] the current vLLM instance can use total_gpu_memory (22.06GiB) x gpu_memory_utilization (0.90) = 19.85GiB
2025-06-20T15:48:14.840587874Z INFO 06-20 15:48:14 worker.py:267] model weights take 16.27GiB; non_torch_memory takes 0.05GiB; PyTorch activation peak memory takes 1.95GiB; the rest of the memory reserved for KV Cache is 1.59GiB.
2025-06-20T15:48:15.026172172Z INFO 06-20 15:48:15 executor_base.py:111] # cuda blocks: 813, # CPU blocks: 2048
2025-06-20T15:48:15.026220503Z INFO 06-20 15:48:15 executor_base.py:116] Maximum concurrency for 8192 tokens per request: 1.59x
2025-06-20T15:48:18.600294203Z INFO 06-20 15:48:18 model_runner.py:1434] Capturing cudagraphs for decoding. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI. If out-of-memory error occurs during cudagraph capture, consider decreasing `gpu_memory_utilization` or switching to eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.
2025-06-20T15:48:39.290929549Z Capturing CUDA graph shapes:   0%|          | 0/35 [00:00<?, ?it/s]Capturing CUDA graph shapes:   3%|‚ñé         | 1/35 [00:00<00:19,  1.73it/s]Capturing CUDA graph shapes:   6%|‚ñå         | 2/35 [00:01<00:18,  1.74it/s]Capturing CUDA graph shapes:   9%|‚ñä         | 3/35 [00:01<00:18,  1.74it/s]Capturing CUDA graph shapes:  11%|‚ñà‚ñè        | 4/35 [00:02<00:17,  1.75it/s]Capturing CUDA graph shapes:  14%|‚ñà‚ñç        | 5/35 [00:02<00:17,  1.71it/s]Capturing CUDA graph shapes:  17%|‚ñà‚ñã        | 6/35 [00:03<00:17,  1.64it/s]Capturing CUDA graph shapes:  20%|‚ñà‚ñà        | 7/35 [00:04<00:17,  1.60it/s]Capturing CUDA graph shapes:  23%|‚ñà‚ñà‚ñé       | 8/35 [00:04<00:17,  1.58it/s]Capturing CUDA graph shapes:  26%|‚ñà‚ñà‚ñå       | 9/35 [00:05<00:18,  1.39it/s]Capturing CUDA graph shapes:  29%|‚ñà‚ñà‚ñä       | 10/35 [00:06<00:17,  1.42it/s]Capturing CUDA graph shapes:  31%|‚ñà‚ñà‚ñà‚ñè      | 11/35 [00:07<00:16,  1.46it/s]Capturing CUDA graph shapes:  34%|‚ñà‚ñà‚ñà‚ñç      | 12/35 [00:07<00:15,  1.49it/s]Capturing CUDA graph shapes:  37%|‚ñà‚ñà‚ñà‚ñã      | 13/35 [00:08<00:14,  1.51it/s]Capturing CUDA graph shapes:  40%|‚ñà‚ñà‚ñà‚ñà      | 14/35 [00:08<00:13,  1.53it/s]Capturing CUDA graph shapes:  43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 15/35 [00:09<00:12,  1.57it/s]Capturing CUDA graph shapes:  46%|‚ñà‚ñà‚ñà‚ñà‚ñå     | 16/35 [00:10<00:11,  1.60it/s]Capturing CUDA graph shapes:  49%|‚ñà‚ñà‚ñà‚ñà‚ñä     | 17/35 [00:10<00:10,  1.65it/s]Capturing CUDA graph shapes:  51%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè    | 18/35 [00:11<00:10,  1.68it/s]Capturing CUDA graph shapes:  54%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    | 19/35 [00:11<00:09,  1.72it/s]Capturing CUDA graph shapes:  57%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã    | 20/35 [00:12<00:08,  1.74it/s]Capturing CUDA graph shapes:  60%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    | 21/35 [00:12<00:07,  1.76it/s]Capturing CUDA graph shapes:  63%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé   | 22/35 [00:13<00:07,  1.77it/s]Capturing CUDA graph shapes:  66%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå   | 23/35 [00:14<00:06,  1.80it/s]Capturing CUDA graph shapes:  69%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä   | 24/35 [00:14<00:06,  1.82it/s]Capturing CUDA graph shapes:  71%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  | 25/35 [00:15<00:05,  1.84it/s]Capturing CUDA graph shapes:  74%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  | 26/35 [00:15<00:04,  1.85it/s]Capturing CUDA graph shapes:  77%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã  | 27/35 [00:16<00:04,  1.86it/s]Capturing CUDA graph shapes:  80%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  | 28/35 [00:16<00:03,  1.87it/s]Capturing CUDA graph shapes:  83%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé | 29/35 [00:17<00:03,  1.88it/s]Capturing CUDA graph shapes:  86%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 30/35 [00:17<00:02,  1.89it/s]Capturing CUDA graph shapes:  89%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä | 31/35 [00:18<00:02,  1.90it/s]Capturing CUDA graph shapes:  91%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 32/35 [00:18<00:01,  1.91it/s]Capturing CUDA graph shapes:  94%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç| 33/35 [00:19<00:01,  1.62it/s]Capturing CUDA graph shapes:  97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 34/35 [00:20<00:00,  1.71it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:20<00:00,  1.76it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:20<00:00,  1.69it/s]
2025-06-20T15:48:39.291238464Z INFO 06-20 15:48:39 model_runner.py:1562] Graph capturing finished in 21 secs, took 0.26 GiB
2025-06-20T15:48:39.292198384Z INFO 06-20 15:48:39 llm_engine.py:436] init engine (profile, create kv cache, warmup model) took 41.86 seconds
2025-06-20T15:48:40.147658904Z 2025-06-20 15:48:40.147 | INFO     | pipecat.services.ultravox.stt:__init__:223 - Initialized UltravoxSTTService with model: fixie-ai/ultravox-v0_5-llama-3_1-8b
2025-06-20T15:48:40.147690822Z 2025-06-20 15:48:40.147 | INFO     | src.pipecat_pipeline:<module>:66 - Ultravox model initialized successfully!
2025-06-20T15:48:40.151600764Z 2025-06-20 15:48:40,151 - root - INFO - Starting voice pipeline server on 0.0.0.0:8000
2025-06-20T15:48:40.177584815Z INFO:     Started server process [75]
2025-06-20T15:48:40.177608631Z INFO:     Waiting for application startup.
2025-06-20T15:48:40.178082026Z INFO:     Application startup complete.
2025-06-20T15:48:40.178466301Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-06-20T15:49:07.751296035Z INFO:     100.64.0.36:46344 - "GET / HTTP/1.1" 200 OK
2025-06-20T15:49:29.305487105Z INFO:     100.64.0.31:47828 - "OPTIONS /connect HTTP/1.1" 200 OK
2025-06-20T15:49:29.384707184Z 2025-06-20 15:49:29,384 - root - INFO - Connect request - returning WebSocket URL: ws://100.65.13.67:60803/ws
2025-06-20T15:49:29.385342195Z INFO:     100.64.0.31:47828 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T15:53:02.580339473Z ==========
2025-06-20T15:53:02.580410015Z == CUDA ==
2025-06-20T15:53:02.580494944Z ==========
2025-06-20T15:53:02.586627913Z CUDA Version 11.8.0
2025-06-20T15:53:02.588926860Z Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
2025-06-20T15:53:02.591366331Z This container image and its contents are governed by the NVIDIA Deep Learning Container License.
2025-06-20T15:53:02.591376668Z By pulling and using the container, you accept the terms and conditions of this license:
2025-06-20T15:53:02.591385677Z https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
2025-06-20T15:53:02.591405652Z A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
2025-06-20T15:53:02.641694662Z  * Starting OpenBSD Secure Shell server sshd
2025-06-20T15:53:02.660116619Z    ...done.
2025-06-20T15:53:02.660452702Z üîß Development mode starting...
2025-06-20T15:53:02.660598744Z üîÑ Updating source code...
2025-06-20T15:53:03.592799154Z From https://github.com/Panzah-Nexus/voice-pipeline
2025-06-20T15:53:03.592856774Z  * branch            cursor_oneshot -> FETCH_HEAD
2025-06-20T15:53:03.593899458Z    ab6203a..789cddd  cursor_oneshot -> origin/cursor_oneshot
2025-06-20T15:53:03.622357691Z Updating ab6203a..789cddd
2025-06-20T15:53:03.622404975Z Fast-forward
2025-06-20T15:53:03.627153310Z  src/main.py | 19 +++++++++++++++----
2025-06-20T15:53:03.627181457Z  1 file changed, 15 insertions(+), 4 deletions(-)
2025-06-20T15:53:03.629191394Z üìÅ Copying source code...
2025-06-20T15:53:03.633795783Z üöÄ Starting voice pipeline...
2025-06-20T15:53:04.099523202Z 2025-06-20 15:53:04.099 | INFO     | pipecat:<module>:14 - ·ìö·òè·ó¢ Pipecat 0.0.71 (Python 3.10.12 (main, May 27 2025, 17:12:29) [GCC 11.4.0]) ·ìö·òè·ó¢
2025-06-20T15:53:20.332053159Z 2025-06-20 15:53:20.331 | INFO     | src.pipecat_pipeline:<module>:58 - Loading UltravoxSTTService... this can take a while on first run.
2025-06-20T15:53:20.561619518Z Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T15:53:20.561657303Z 2025-06-20 15:53:20,561 - huggingface_hub._login - WARNING - Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T15:53:20.677161994Z INFO 06-20 15:53:20 __init__.py:207] Automatically detected platform cuda.
2025-06-20T15:53:27.892697537Z INFO 06-20 15:53:27 config.py:549] This model supports multiple tasks: {'reward', 'score', 'embed', 'generate', 'classify'}. Defaulting to 'generate'.
2025-06-20T15:53:27.895131909Z INFO 06-20 15:53:27 llm_engine.py:234] Initializing a V0 LLM engine (v0.7.3) with config: model='fixie-ai/ultravox-v0_5-llama-3_1-8b', speculative_config=None, tokenizer='fixie-ai/ultravox-v0_5-llama-3_1-8b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, override_neuron_config=None, tokenizer_revision=None, trust_remote_code=True, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=auto, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto,  device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='xgrammar'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=fixie-ai/ultravox-v0_5-llama-3_1-8b, num_scheduler_steps=1, multi_step_stream_outputs=True, enable_prefix_caching=False, chunked_prefill_enabled=False, use_async_output_proc=True, disable_mm_preprocessor_cache=False, mm_processor_kwargs=None, pooler_config=None, compilation_config={"splitting_ops":[],"compile_sizes":[],"cudagraph_capture_sizes":[256,248,240,232,224,216,208,200,192,184,176,168,160,152,144,136,128,120,112,104,96,88,80,72,64,56,48,40,32,24,16,8,4,2,1],"max_capture_size":256}, use_cached_outputs=False,
2025-06-20T15:53:34.142980942Z INFO 06-20 15:53:34 cuda.py:229] Using Flash Attention backend.
2025-06-20T15:53:35.080561625Z INFO 06-20 15:53:35 model_runner.py:1110] Starting to load model fixie-ai/ultravox-v0_5-llama-3_1-8b...
2025-06-20T15:53:35.331501430Z INFO 06-20 15:53:35 config.py:3054] cudagraph sizes specified by model runner [1, 2, 4, 8, 16, 24, 32, 40, 48, 56, 64, 72, 80, 88, 96, 104, 112, 120, 128, 136, 144, 152, 160, 168, 176, 184, 192, 200, 208, 216, 224, 232, 240, 248, 256] is overridden by config [256, 128, 2, 1, 4, 136, 8, 144, 16, 152, 24, 160, 32, 168, 40, 176, 48, 184, 56, 192, 64, 200, 72, 208, 80, 216, 88, 120, 224, 96, 232, 104, 240, 112, 248]
2025-06-20T15:53:35.868794222Z INFO 06-20 15:53:35 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T15:53:36.150858929Z INFO 06-20 15:53:36 weight_utils.py:304] No model.safetensors.index.json found in remote.
2025-06-20T15:53:36.152480121Z Loading safetensors checkpoint shards:   0% Completed | 0/1 [00:00<?, ?it/s]
2025-06-20T15:53:36.442084433Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.46it/s]
2025-06-20T15:53:36.442233478Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.45it/s]
2025-06-20T15:53:36.750129978Z INFO 06-20 15:53:36 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T15:53:37.036301933Z Loading safetensors checkpoint shards:   0% Completed | 0/4 [00:00<?, ?it/s]
2025-06-20T15:53:37.724251108Z Loading safetensors checkpoint shards:  25% Completed | 1/4 [00:00<00:02,  1.45it/s]
2025-06-20T15:53:38.553615759Z Loading safetensors checkpoint shards:  50% Completed | 2/4 [00:01<00:01,  1.30it/s]
2025-06-20T15:53:38.943371839Z Loading safetensors checkpoint shards:  75% Completed | 3/4 [00:01<00:00,  1.68it/s]
2025-06-20T15:53:39.548322787Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.67it/s]
2025-06-20T15:53:39.548559973Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.59it/s]
2025-06-20T15:53:40.006752956Z INFO 06-20 15:53:40 model_runner.py:1115] Loading model weights took 16.2698 GB
2025-06-20T15:53:53.284187607Z INFO 06-20 15:53:53 worker.py:267] Memory profiling takes 13.09 seconds
2025-06-20T15:53:53.284252211Z INFO 06-20 15:53:53 worker.py:267] the current vLLM instance can use total_gpu_memory (22.06GiB) x gpu_memory_utilization (0.90) = 19.85GiB
2025-06-20T15:53:53.284261570Z INFO 06-20 15:53:53 worker.py:267] model weights take 16.27GiB; non_torch_memory takes 0.05GiB; PyTorch activation peak memory takes 1.95GiB; the rest of the memory reserved for KV Cache is 1.59GiB.
2025-06-20T15:53:53.472377322Z INFO 06-20 15:53:53 executor_base.py:111] # cuda blocks: 813, # CPU blocks: 2048
2025-06-20T15:53:53.472428237Z INFO 06-20 15:53:53 executor_base.py:116] Maximum concurrency for 8192 tokens per request: 1.59x
2025-06-20T15:53:57.056489393Z INFO 06-20 15:53:57 model_runner.py:1434] Capturing cudagraphs for decoding. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI. If out-of-memory error occurs during cudagraph capture, consider decreasing `gpu_memory_utilization` or switching to eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.
2025-06-20T15:54:17.382750315Z Capturing CUDA graph shapes:   0%|          | 0/35 [00:00<?, ?it/s]Capturing CUDA graph shapes:   3%|‚ñé         | 1/35 [00:00<00:19,  1.71it/s]Capturing CUDA graph shapes:   6%|‚ñå         | 2/35 [00:01<00:19,  1.73it/s]Capturing CUDA graph shapes:   9%|‚ñä         | 3/35 [00:01<00:18,  1.74it/s]Capturing CUDA graph shapes:  11%|‚ñà‚ñè        | 4/35 [00:02<00:17,  1.75it/s]Capturing CUDA graph shapes:  14%|‚ñà‚ñç        | 5/35 [00:02<00:17,  1.76it/s]Capturing CUDA graph shapes:  17%|‚ñà‚ñã        | 6/35 [00:03<00:16,  1.76it/s]Capturing CUDA graph shapes:  20%|‚ñà‚ñà        | 7/35 [00:03<00:15,  1.76it/s]Capturing CUDA graph shapes:  23%|‚ñà‚ñà‚ñé       | 8/35 [00:04<00:15,  1.77it/s]Capturing CUDA graph shapes:  26%|‚ñà‚ñà‚ñå       | 9/35 [00:05<00:14,  1.77it/s]Capturing CUDA graph shapes:  29%|‚ñà‚ñà‚ñä       | 10/35 [00:05<00:14,  1.78it/s]Capturing CUDA graph shapes:  31%|‚ñà‚ñà‚ñà‚ñè      | 11/35 [00:06<00:13,  1.78it/s]Capturing CUDA graph shapes:  34%|‚ñà‚ñà‚ñà‚ñç      | 12/35 [00:06<00:12,  1.79it/s]Capturing CUDA graph shapes:  37%|‚ñà‚ñà‚ñà‚ñã      | 13/35 [00:07<00:12,  1.79it/s]Capturing CUDA graph shapes:  40%|‚ñà‚ñà‚ñà‚ñà      | 14/35 [00:07<00:11,  1.80it/s]Capturing CUDA graph shapes:  43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 15/35 [00:08<00:11,  1.80it/s]Capturing CUDA graph shapes:  46%|‚ñà‚ñà‚ñà‚ñà‚ñå     | 16/35 [00:08<00:10,  1.81it/s]Capturing CUDA graph shapes:  49%|‚ñà‚ñà‚ñà‚ñà‚ñä     | 17/35 [00:09<00:09,  1.82it/s]Capturing CUDA graph shapes:  51%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè    | 18/35 [00:10<00:09,  1.83it/s]Capturing CUDA graph shapes:  54%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    | 19/35 [00:10<00:08,  1.84it/s]Capturing CUDA graph shapes:  57%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã    | 20/35 [00:11<00:08,  1.84it/s]Capturing CUDA graph shapes:  60%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    | 21/35 [00:11<00:07,  1.78it/s]Capturing CUDA graph shapes:  63%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé   | 22/35 [00:12<00:07,  1.72it/s]Capturing CUDA graph shapes:  66%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå   | 23/35 [00:13<00:07,  1.69it/s]Capturing CUDA graph shapes:  69%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä   | 24/35 [00:13<00:06,  1.66it/s]Capturing CUDA graph shapes:  71%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  | 25/35 [00:14<00:06,  1.64it/s]Capturing CUDA graph shapes:  74%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  | 26/35 [00:14<00:05,  1.64it/s]Capturing CUDA graph shapes:  77%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã  | 27/35 [00:15<00:04,  1.61it/s]Capturing CUDA graph shapes:  80%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  | 28/35 [00:16<00:04,  1.51it/s]Capturing CUDA graph shapes:  83%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé | 29/35 [00:16<00:03,  1.52it/s]Capturing CUDA graph shapes:  86%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 30/35 [00:17<00:03,  1.55it/s]Capturing CUDA graph shapes:  89%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä | 31/35 [00:18<00:02,  1.61it/s]Capturing CUDA graph shapes:  91%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 32/35 [00:18<00:01,  1.66it/s]Capturing CUDA graph shapes:  94%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç| 33/35 [00:19<00:01,  1.69it/s]Capturing CUDA graph shapes:  97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 34/35 [00:19<00:00,  1.73it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:20<00:00,  1.76it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:20<00:00,  1.72it/s]
2025-06-20T15:54:17.383075154Z INFO 06-20 15:54:17 model_runner.py:1562] Graph capturing finished in 20 secs, took 0.26 GiB
2025-06-20T15:54:17.384400213Z INFO 06-20 15:54:17 llm_engine.py:436] init engine (profile, create kv cache, warmup model) took 37.38 seconds
2025-06-20T15:54:18.237663547Z 2025-06-20 15:54:18.237 | INFO     | pipecat.services.ultravox.stt:__init__:223 - Initialized UltravoxSTTService with model: fixie-ai/ultravox-v0_5-llama-3_1-8b
2025-06-20T15:54:18.237780883Z 2025-06-20 15:54:18.237 | INFO     | src.pipecat_pipeline:<module>:66 - Ultravox model initialized successfully!
2025-06-20T15:54:18.241586270Z 2025-06-20 15:54:18,241 - root - INFO - Starting voice pipeline server on 0.0.0.0:8000
2025-06-20T15:54:18.268460887Z INFO:     Started server process [75]
2025-06-20T15:54:18.268491897Z INFO:     Waiting for application startup.
2025-06-20T15:54:18.269000912Z INFO:     Application startup complete.
2025-06-20T15:54:18.269398667Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-06-20T15:56:39.228050241Z 2025-06-20 15:56:39,227 - root - INFO - Connect request - returning WebSocket URL: wss://od4i1xsnp7lvzh-8000.proxy.runpod.net/ws
2025-06-20T15:56:39.228123297Z 2025-06-20 15:56:39,227 - root - INFO - Request headers: x-forwarded-host=od4i1xsnp7lvzh-8000.proxy.runpod.net, x-forwarded-proto=https
2025-06-20T15:56:39.228836811Z INFO:     100.64.0.31:49820 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T15:56:39.483642482Z INFO:     ('100.64.0.31', 49824) - "WebSocket /ws" [accepted]
2025-06-20T15:56:39.483899154Z WebSocket connection accepted
2025-06-20T15:56:39.484292788Z 2025-06-20 15:56:39.483 | DEBUG    | pipecat.audio.vad.silero:__init__:111 - Loading Silero VAD model...
2025-06-20T15:56:39.575086103Z 2025-06-20 15:56:39.574 | DEBUG    | pipecat.audio.vad.silero:__init__:133 - Loaded Silero VAD
2025-06-20T15:56:39.575880915Z 2025-06-20 15:56:39,575 - src.piper_tts_service - INFO - Initialized Piper TTS with model: en_US-lessac-medium
2025-06-20T15:56:39.576252688Z 2025-06-20 15:56:39.576 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineSource#0 -> FastAPIWebsocketInputTransport#0
2025-06-20T15:56:39.576321553Z 2025-06-20 15:56:39.576 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketInputTransport#0 -> RTVIProcessor#0
2025-06-20T15:56:39.576436095Z 2025-06-20 15:56:39.576 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking RTVIProcessor#0 -> UltravoxSTTService#0
2025-06-20T15:56:39.576474160Z 2025-06-20 15:56:39.576 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking UltravoxSTTService#0 -> PiperTTSService#0
2025-06-20T15:56:39.576580600Z 2025-06-20 15:56:39.576 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PiperTTSService#0 -> FastAPIWebsocketOutputTransport#0
2025-06-20T15:56:39.576662665Z 2025-06-20 15:56:39.576 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketOutputTransport#0 -> PipelineSink#0
2025-06-20T15:56:39.577071525Z 2025-06-20 15:56:39.576 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineTaskSource#0 -> Pipeline#0
2025-06-20T15:56:39.577173426Z 2025-06-20 15:56:39.577 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking Pipeline#0 -> PipelineTaskSink#0
2025-06-20T15:56:39.577403349Z 2025-06-20 15:56:39.577 | DEBUG    | pipecat.pipeline.runner:run:38 - Runner PipelineRunner#0 started running PipelineTask#0
2025-06-20T15:56:39.578253266Z INFO:     connection open
2025-06-20T15:56:39.579456030Z 2025-06-20 15:56:39.579 | INFO     | pipecat.services.ultravox.stt:_warm_up_model:232 - Warming up Ultravox model with silent audio...
2025-06-20T15:56:39.579530622Z 2025-06-20 15:56:39.579 | INFO     | pipecat.services.ultravox.stt:_generate_silent_audio:272 - Generated 1s of silent audio (16000 samples)
2025-06-20T15:56:39.646021493Z INFO 06-20 15:56:39 async_llm_engine.py:211] Added request 1750434999.6455247.
2025-06-20T15:56:46.204821117Z INFO 06-20 15:56:46 metrics.py:455] Avg prompt throughput: 0.3 tokens/s, Avg generation throughput: 0.0 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.4%, CPU KV cache usage: 0.0%.
2025-06-20T15:56:49.228377779Z INFO 06-20 15:56:49 async_llm_engine.py:179] Finished request 1750434999.6455247.
2025-06-20T15:56:49.288104790Z 2025-06-20 15:56:49.287 | INFO     | pipecat.services.ultravox.stt:_warm_up_model:252 - Model warm-up completed successfully
2025-06-20T15:56:49.288130981Z 2025-06-20 15:56:49.287 | INFO     | pipecat.services.ultravox.stt:start:294 - UltravoxSTTService started
2025-06-20T15:56:49.290254553Z 2025-06-20 15:56:49.289 | DEBUG    | pipecat.audio.vad.vad_analyzer:set_params:74 - Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.8 min_volume=0.6
2025-06-20T15:56:49.296657465Z 2025-06-20 15:56:49.296 | INFO     | src.pipecat_pipeline:on_client_connected:125 - Pipecat Client connected
2025-06-20T15:56:49.296911553Z 2025-06-20 15:56:49.296 | DEBUG    | pipecat.serializers.protobuf:deserialize:106 - ProtobufFrameSerializer: Transport message TransportMessageUrgentFrame#1(message: {'label': 'rtvi-ai', 'type': 'client-ready', 'data': {}, 'id': 'd6bdbfb7'})
2025-06-20T15:56:49.302381085Z 2025-06-20 15:56:49.302 | DEBUG    | pipecat.processors.frameworks.rtvi:_handle_client_ready:844 - Received client-ready
2025-06-20T15:56:49.306149176Z 2025-06-20 15:56:49.305 | INFO     | src.pipecat_pipeline:on_client_ready:118 - Pipecat client ready.
2025-06-20T15:56:49.309787499Z 2025-06-20 15:56:49,309 - src.piper_tts_service - INFO - Generating speech for: Hello! I'm your AI assistant. How can I help you t...
2025-06-20T15:56:49.344779669Z 2025-06-20 15:56:49,344 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:49.347959962Z 2025-06-20 15:56:49.347 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#0(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:49.347988109Z , fatal: False)
2025-06-20T15:56:49.923653453Z 2025-06-20 15:56:49.922 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:56:49.923687327Z 2025-06-20 15:56:49.923 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:56:50.094557481Z 2025-06-20 15:56:50.093 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:56:50.094595895Z 2025-06-20 15:56:50.094 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:56:50.095071036Z 2025-06-20 15:56:50.094 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:56:50.096060290Z INFO 06-20 15:56:50 async_llm_engine.py:211] Added request 1750435010.0955522.
2025-06-20T15:56:50.240985645Z 2025-06-20 15:56:50.240 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.14548993110656738
2025-06-20T15:56:50.361560365Z 2025-06-20 15:56:50,360 - src.piper_tts_service - INFO - Generating speech for: ÊÇ®Â•ΩÔºÅ...
2025-06-20T15:56:50.366200723Z 2025-06-20 15:56:50,365 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:50.369564564Z 2025-06-20 15:56:50.369 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#1(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:50.369591733Z , fatal: False)
2025-06-20T15:56:51.218403407Z INFO 06-20 15:56:51 metrics.py:455] Avg prompt throughput: 8.2 tokens/s, Avg generation throughput: 13.2 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.5%, CPU KV cache usage: 0.0%.
2025-06-20T15:56:51.717064717Z 2025-06-20 15:56:51,716 - src.piper_tts_service - INFO - Generating speech for: ÊàëÊòØË™ûË®ÄÊ®°ÂûãÔºåËÉΩÂ§†Âπ´Âä©ÊÇ®ÂõûÁ≠îÂêÑÁ®ÆÂïèÈ°åÊàñÈÄ≤Ë°åÂ∞çË©±„ÄÇ...
2025-06-20T15:56:51.721786582Z 2025-06-20 15:56:51,721 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:51.725109285Z 2025-06-20 15:56:51.724 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#2(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:51.725136524Z , fatal: False)
2025-06-20T15:56:52.154858274Z 2025-06-20 15:56:52,154 - src.piper_tts_service - INFO - Generating speech for: ÊÇ®ÊÉ≥ËÅä‰ªÄÈ∫ºÂë¢Ôºü...
2025-06-20T15:56:52.159772626Z 2025-06-20 15:56:52,159 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:52.163107202Z 2025-06-20 15:56:52.162 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#3(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:52.163146943Z , fatal: False)
2025-06-20T15:56:52.205663491Z INFO 06-20 15:56:52 async_llm_engine.py:179] Finished request 1750435010.0955522.
2025-06-20T15:56:52.212891945Z 2025-06-20 15:56:52.212 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 2.1174185276031494
2025-06-20T15:56:54.032399916Z 2025-06-20 15:56:54.031 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:56:54.032667623Z 2025-06-20 15:56:54.032 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:56:54.213412716Z 2025-06-20 15:56:54.212 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:56:54.213897216Z 2025-06-20 15:56:54.213 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:56:54.214347353Z 2025-06-20 15:56:54.214 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:56:54.215444584Z INFO 06-20 15:56:54 async_llm_engine.py:211] Added request 1750435014.2148962.
2025-06-20T15:56:54.369988835Z 2025-06-20 15:56:54.369 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.15524911880493164
2025-06-20T15:56:54.490112021Z 2025-06-20 15:56:54,489 - src.piper_tts_service - INFO - Generating speech for: ‰Ω†Â•ΩÔºÅ...
2025-06-20T15:56:54.495144896Z 2025-06-20 15:56:54,494 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:54.498428208Z 2025-06-20 15:56:54.498 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#4(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:54.498469066Z , fatal: False)
2025-06-20T15:56:54.544318654Z INFO 06-20 15:56:54 async_llm_engine.py:179] Finished request 1750435014.2148962.
2025-06-20T15:56:54.550330516Z 2025-06-20 15:56:54.549 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 0.3357276916503906
2025-06-20T15:56:55.652016287Z 2025-06-20 15:56:55.651 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:56:55.652177135Z 2025-06-20 15:56:55.651 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:56:56.837158801Z 2025-06-20 15:56:56.836 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:56:56.837615364Z 2025-06-20 15:56:56.837 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:56:56.838854446Z 2025-06-20 15:56:56.838 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:56:56.840373248Z INFO 06-20 15:56:56 async_llm_engine.py:211] Added request 1750435016.8397322.
2025-06-20T15:56:56.993045781Z INFO 06-20 15:56:56 metrics.py:455] Avg prompt throughput: 14.5 tokens/s, Avg generation throughput: 3.6 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.4%, CPU KV cache usage: 0.0%.
2025-06-20T15:56:56.994314895Z 2025-06-20 15:56:56.993 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.15500569343566895
2025-06-20T15:56:57.817918543Z 2025-06-20 15:56:57,817 - src.piper_tts_service - INFO - Generating speech for: It seems like you're starting a sentence, but it's...
2025-06-20T15:56:57.824803370Z 2025-06-20 15:56:57,824 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:57.829636495Z 2025-06-20 15:56:57.829 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#5(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:57.829664432Z , fatal: False)
2025-06-20T15:56:58.811326612Z 2025-06-20 15:56:58,810 - src.piper_tts_service - INFO - Generating speech for:  Could you please provide more context or informat...
2025-06-20T15:56:58.817177975Z 2025-06-20 15:56:58,816 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:58.821701766Z 2025-06-20 15:56:58.821 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#6(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:58.821749329Z , fatal: False)
2025-06-20T15:56:59.643886207Z 2025-06-20 15:56:59,643 - src.piper_tts_service - INFO - Generating speech for:  I'm here to help and would be happy to assist you...
2025-06-20T15:56:59.650404988Z 2025-06-20 15:56:59,650 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:59.654753753Z 2025-06-20 15:56:59.654 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#7(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:56:59.654779525Z , fatal: False)
2025-06-20T15:56:59.689432677Z 2025-06-20 15:56:59.688 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 2.84962797164917
2025-06-20T15:56:59.689493720Z INFO 06-20 15:56:59 async_llm_engine.py:179] Finished request 1750435016.8397322.
2025-06-20T15:57:09.988310620Z 2025-06-20 15:57:09.987 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:09.988542359Z 2025-06-20 15:57:09.988 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:57:11.555253199Z 2025-06-20 15:57:11.554 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:57:11.555490874Z 2025-06-20 15:57:11.555 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:57:11.556639998Z 2025-06-20 15:57:11.556 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:57:11.557832146Z INFO 06-20 15:57:11 async_llm_engine.py:211] Added request 1750435031.5572984.
2025-06-20T15:57:11.732097570Z INFO 06-20 15:57:11 metrics.py:455] Avg prompt throughput: 3.1 tokens/s, Avg generation throughput: 3.0 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.4%, CPU KV cache usage: 0.0%.
2025-06-20T15:57:11.736977698Z 2025-06-20 15:57:11.736 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.17987632751464844
2025-06-20T15:57:12.121460915Z 2025-06-20 15:57:12,121 - src.piper_tts_service - INFO - Generating speech for: ÂæàÈ´òÂÖ¥ËßÅÂà∞‰Ω†„ÄÇ...
2025-06-20T15:57:12.126659876Z 2025-06-20 15:57:12,126 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:12.130281996Z 2025-06-20 15:57:12.129 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#8(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:12.130330397Z , fatal: False)
2025-06-20T15:57:12.173010028Z INFO 06-20 15:57:12 async_llm_engine.py:179] Finished request 1750435031.5572984.
2025-06-20T15:57:12.185265072Z 2025-06-20 15:57:12.184 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 0.6280384063720703
2025-06-20T15:57:12.381566400Z 2025-06-20 15:57:12.381 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:12.381876572Z 2025-06-20 15:57:12.381 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:57:13.999402826Z 2025-06-20 15:57:13.998 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:57:13.999641898Z 2025-06-20 15:57:13.999 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:57:14.000820775Z 2025-06-20 15:57:14.000 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:57:14.001830563Z INFO 06-20 15:57:14 async_llm_engine.py:211] Added request 1750435034.0013223.
2025-06-20T15:57:14.160567340Z 2025-06-20 15:57:14.160 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.1593620777130127
2025-06-20T15:57:14.810538619Z 2025-06-20 15:57:14,810 - src.piper_tts_service - INFO - Generating speech for: I'm an artificial intelligence model known as Llam...
2025-06-20T15:57:14.816433914Z 2025-06-20 15:57:14,816 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:14.820275759Z 2025-06-20 15:57:14.819 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#9(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:14.820306489Z , fatal: False)
2025-06-20T15:57:15.556633549Z INFO 06-20 15:57:15 async_llm_engine.py:179] Finished request 1750435034.0013223.
2025-06-20T15:57:15.574325438Z 2025-06-20 15:57:15.573 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 1.5731823444366455
2025-06-20T15:57:15.582689607Z 2025-06-20 15:57:15,582 - src.piper_tts_service - INFO - Generating speech for:  Llama stands for "Large Language Model Meta AI."...
2025-06-20T15:57:15.592143673Z 2025-06-20 15:57:15,591 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:15.596818184Z 2025-06-20 15:57:15.596 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#10(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:15.596851569Z , fatal: False)
2025-06-20T15:57:17.351338721Z 2025-06-20 15:57:17.350 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:17.351608524Z 2025-06-20 15:57:17.351 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:57:20.834781626Z 2025-06-20 15:57:20.834 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:57:20.834970411Z 2025-06-20 15:57:20.834 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:57:20.836748261Z 2025-06-20 15:57:20.836 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:57:20.837766849Z INFO 06-20 15:57:20 async_llm_engine.py:211] Added request 1750435040.8372512.
2025-06-20T15:57:20.956621619Z INFO 06-20 15:57:20 metrics.py:455] Avg prompt throughput: 11.1 tokens/s, Avg generation throughput: 3.4 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.5%, CPU KV cache usage: 0.0%.
2025-06-20T15:57:20.960611461Z 2025-06-20 15:57:20.960 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.12356042861938477
2025-06-20T15:57:21.271642152Z 2025-06-20 15:57:21,271 - src.piper_tts_service - INFO - Generating speech for: That's a creative nickname....
2025-06-20T15:57:21.276691231Z 2025-06-20 15:57:21,276 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:21.279890312Z 2025-06-20 15:57:21.279 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#11(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:21.279925652Z , fatal: False)
2025-06-20T15:57:22.137003296Z 2025-06-20 15:57:22,136 - src.piper_tts_service - INFO - Generating speech for:  I'm happy to chat with you as "UltraVox"!...
2025-06-20T15:57:22.141508299Z 2025-06-20 15:57:22,141 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:22.144635931Z 2025-06-20 15:57:22.144 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#12(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:22.144664567Z , fatal: False)
2025-06-20T15:57:22.499661115Z 2025-06-20 15:57:22,499 - src.piper_tts_service - INFO - Generating speech for:  What's on your mind?...
2025-06-20T15:57:22.504364192Z 2025-06-20 15:57:22,504 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:22.507730058Z 2025-06-20 15:57:22.507 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#13(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:22.507747239Z , fatal: False)
2025-06-20T15:57:22.553759212Z INFO 06-20 15:57:22 async_llm_engine.py:179] Finished request 1750435040.8372512.
2025-06-20T15:57:22.560648929Z 2025-06-20 15:57:22.560 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 1.723677635192871
2025-06-20T15:57:24.800831697Z 2025-06-20 15:57:24.800 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:24.800910061Z 2025-06-20 15:57:24.800 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:57:25.697921045Z 2025-06-20 15:57:25.697 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:57:25.698120726Z 2025-06-20 15:57:25.697 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:57:25.698804418Z 2025-06-20 15:57:25.698 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:57:25.699868683Z INFO 06-20 15:57:25 async_llm_engine.py:211] Added request 1750435045.6993406.
2025-06-20T15:57:25.850769303Z 2025-06-20 15:57:25.850 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.15158557891845703
2025-06-20T15:57:25.967902098Z INFO 06-20 15:57:25 metrics.py:455] Avg prompt throughput: 8.2 tokens/s, Avg generation throughput: 5.8 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.4%, CPU KV cache usage: 0.0%.
2025-06-20T15:57:25.977109968Z 2025-06-20 15:57:25,976 - src.piper_tts_service - INFO - Generating speech for: ÊÇ®Â•ΩÔºÅ...
2025-06-20T15:57:25.982181256Z 2025-06-20 15:57:25,981 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:25.985525750Z 2025-06-20 15:57:25.985 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#14(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:25.985553338Z , fatal: False)
2025-06-20T15:57:26.532002376Z 2025-06-20 15:57:26,531 - src.piper_tts_service - INFO - Generating speech for: ÊàëÊòØ‰∏≠ÊñáÂØπËØùÊú∫Âô®‰∫∫„ÄÇ...
2025-06-20T15:57:26.536557875Z 2025-06-20 15:57:26,536 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:26.539659595Z 2025-06-20 15:57:26.539 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#15(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:26.539687183Z , fatal: False)
2025-06-20T15:57:27.032682494Z 2025-06-20 15:57:27,032 - src.piper_tts_service - INFO - Generating speech for: ÂæàÈ´òÂÖ¥ËÉΩÂ§ü‰∏éÊÇ®‰∫§ÊµÅ„ÄÇ...
2025-06-20T15:57:27.037583435Z 2025-06-20 15:57:27,037 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:27.040827496Z 2025-06-20 15:57:27.040 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#16(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:27.040844398Z , fatal: False)
2025-06-20T15:57:27.639984339Z 2025-06-20 15:57:27,639 - src.piper_tts_service - INFO - Generating speech for: ÊÇ®ÊÉ≥ÈóÆ‰ªÄ‰πàÊàñËÆ®ËÆ∫‰ªÄ‰πàÂë¢Ôºü...
2025-06-20T15:57:27.644633777Z 2025-06-20 15:57:27,644 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:27.647748139Z 2025-06-20 15:57:27.647 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#17(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:27.647799473Z , fatal: False)
2025-06-20T15:57:27.691313656Z INFO 06-20 15:57:27 async_llm_engine.py:179] Finished request 1750435045.6993406.
2025-06-20T15:57:27.704967652Z 2025-06-20 15:57:27.704 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 2.0058460235595703
2025-06-20T15:57:27.772963147Z 2025-06-20 15:57:27.772 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:27.773227711Z 2025-06-20 15:57:27.772 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:57:28.520268942Z 2025-06-20 15:57:28.519 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:57:28.520478889Z 2025-06-20 15:57:28.520 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:57:28.521951875Z 2025-06-20 15:57:28.521 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:57:28.522934144Z INFO 06-20 15:57:28 async_llm_engine.py:211] Added request 1750435048.522474.
2025-06-20T15:57:28.660643827Z 2025-06-20 15:57:28.660 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.13831424713134766
2025-06-20T15:57:29.401706650Z 2025-06-20 15:57:29,401 - src.piper_tts_service - INFO - Generating speech for: You're referring to the concept of "being upset wi...
2025-06-20T15:57:29.407047322Z 2025-06-20 15:57:29,406 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:29.410326374Z 2025-06-20 15:57:29.409 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#18(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:29.410373797Z , fatal: False)
2025-06-20T15:57:30.072664794Z 2025-06-20 15:57:30,072 - src.piper_tts_service - INFO - Generating speech for: " It's a natural and common experience for many pe...
2025-06-20T15:57:30.077431009Z 2025-06-20 15:57:30,077 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:30.080697908Z 2025-06-20 15:57:30.080 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#19(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:30.080747077Z , fatal: False)
2025-06-20T15:57:30.991197151Z INFO 06-20 15:57:30 metrics.py:455] Avg prompt throughput: 10.2 tokens/s, Avg generation throughput: 13.3 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.7%, CPU KV cache usage: 0.0%.
2025-06-20T15:57:32.483832258Z 2025-06-20 15:57:32,483 - src.piper_tts_service - INFO - Generating speech for:  Being upset with oneself can manifest in differen...
2025-06-20T15:57:32.488797944Z 2025-06-20 15:57:32,488 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:32.492083421Z 2025-06-20 15:57:32.491 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#20(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:32.492113454Z , fatal: False)
2025-06-20T15:57:33.899948949Z 2025-06-20 15:57:33,899 - src.piper_tts_service - INFO - Generating speech for: 2. **Disappointment**: Feeling sad or unhappy abou...
2025-06-20T15:57:33.904901365Z 2025-06-20 15:57:33,904 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:33.908112879Z 2025-06-20 15:57:33.907 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#21(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:33.908147730Z , fatal: False)
2025-06-20T15:57:35.074524731Z 2025-06-20 15:57:35,074 - src.piper_tts_service - INFO - Generating speech for: 3. **Frustration**: Feeling trapped or stuck, unab...
2025-06-20T15:57:35.079492652Z 2025-06-20 15:57:35,079 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:35.082796987Z 2025-06-20 15:57:35.082 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#22(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:35.082824575Z , fatal: False)
2025-06-20T15:57:35.998340000Z INFO 06-20 15:57:35 metrics.py:455] Avg prompt throughput: 0.0 tokens/s, Avg generation throughput: 16.2 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 1.4%, CPU KV cache usage: 0.0%.
2025-06-20T15:57:37.623056435Z 2025-06-20 15:57:37,622 - src.piper_tts_service - INFO - Generating speech for: If you're feeling upset with yourself, here are so...
2025-06-20T15:57:37.626344287Z 2025-06-20 15:57:37,626 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:37.628040560Z 2025-06-20 15:57:37.627 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#23(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:37.628068916Z , fatal: False)
2025-06-20T15:57:37.865288439Z INFO 06-20 15:57:37 async_llm_engine.py:179] Finished request 1750435048.522474.
2025-06-20T15:57:37.877095301Z 2025-06-20 15:57:37.876 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 9.354668855667114
2025-06-20T15:57:37.887677539Z 2025-06-20 15:57:37,887 - src.piper_tts_service - INFO - Generating speech for: 2. **Re...
2025-06-20T15:57:37.896989614Z 2025-06-20 15:57:37,896 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:37.903181322Z 2025-06-20 15:57:37.902 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#24(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:37.903206046Z , fatal: False)
2025-06-20T15:57:38.977810675Z 2025-06-20 15:57:38.977 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:38.977893090Z 2025-06-20 15:57:38.977 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:57:41.412686570Z 2025-06-20 15:57:41.412 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:57:41.413049194Z 2025-06-20 15:57:41.412 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:57:41.416425188Z 2025-06-20 15:57:41.416 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:57:41.417523676Z INFO 06-20 15:57:41 async_llm_engine.py:211] Added request 1750435061.4170384.
2025-06-20T15:57:41.588540360Z INFO 06-20 15:57:41 metrics.py:455] Avg prompt throughput: 12.7 tokens/s, Avg generation throughput: 5.5 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.6%, CPU KV cache usage: 0.0%.
2025-06-20T15:57:41.589688786Z 2025-06-20 15:57:41.589 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.17289400100708008
2025-06-20T15:57:42.277139967Z 2025-06-20 15:57:42,276 - src.piper_tts_service - INFO - Generating speech for: I can communicate with you only in English from no...
2025-06-20T15:57:42.282797656Z 2025-06-20 15:57:42,282 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:42.286616872Z 2025-06-20 15:57:42.286 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#25(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:42.286647463Z , fatal: False)
2025-06-20T15:57:43.094424444Z 2025-06-20 15:57:43,094 - src.piper_tts_service - INFO - Generating speech for:  I'll avoid using any Chinese characters or words ...
2025-06-20T15:57:43.097304833Z 2025-06-20 15:57:43,097 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:43.098942438Z 2025-06-20 15:57:43.098 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#26(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:43.098968629Z , fatal: False)
2025-06-20T15:57:43.518473769Z 2025-06-20 15:57:43,518 - src.piper_tts_service - INFO - Generating speech for:  How can I assist you today?...
2025-06-20T15:57:43.524030884Z 2025-06-20 15:57:43,523 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:43.527658032Z 2025-06-20 15:57:43.527 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#27(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:43.527685201Z , fatal: False)
2025-06-20T15:57:43.574892464Z INFO 06-20 15:57:43 async_llm_engine.py:179] Finished request 1750435061.4170384.
2025-06-20T15:57:43.585470301Z 2025-06-20 15:57:43.584 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 2.1685054302215576
2025-06-20T15:57:46.334656707Z 2025-06-20 15:57:46.334 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:46.334952701Z 2025-06-20 15:57:46.334 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:57:52.900795697Z 2025-06-20 15:57:52.900 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:57:52.901235218Z 2025-06-20 15:57:52.900 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:57:52.905151516Z 2025-06-20 15:57:52.904 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:57:52.906410503Z INFO 06-20 15:57:52 async_llm_engine.py:211] Added request 1750435072.9058633.
2025-06-20T15:57:53.069733509Z INFO 06-20 15:57:53 metrics.py:455] Avg prompt throughput: 6.7 tokens/s, Avg generation throughput: 2.9 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.6%, CPU KV cache usage: 0.0%.
2025-06-20T15:57:53.076652700Z 2025-06-20 15:57:53.076 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.17112445831298828
2025-06-20T15:57:53.574219224Z 2025-06-20 15:57:53,573 - src.piper_tts_service - INFO - Generating speech for: Thank you so much for your kind words....
2025-06-20T15:57:53.579088596Z 2025-06-20 15:57:53,578 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:53.582361432Z 2025-06-20 15:57:53.581 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#28(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:53.582387832Z , fatal: False)
2025-06-20T15:57:54.872213097Z 2025-06-20 15:57:54,871 - src.piper_tts_service - INFO - Generating speech for:  I'm glad to hear that I've been able to meet your...
2025-06-20T15:57:54.878021507Z 2025-06-20 15:57:54,877 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:54.881297904Z 2025-06-20 15:57:54.880 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#29(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:54.881318438Z , fatal: False)
2025-06-20T15:57:56.055985156Z 2025-06-20 15:57:56,055 - src.piper_tts_service - INFO - Generating speech for:  I'm constantly learning and improving, so it's gr...
2025-06-20T15:57:56.061025713Z 2025-06-20 15:57:56,060 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:56.064369509Z 2025-06-20 15:57:56.063 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#30(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:56.064396678Z , fatal: False)
2025-06-20T15:57:57.301562957Z 2025-06-20 15:57:57,301 - src.piper_tts_service - INFO - Generating speech for:  If you have any specific topics or questions you'...
2025-06-20T15:57:57.306937573Z 2025-06-20 15:57:57,306 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:57.310299318Z 2025-06-20 15:57:57.309 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#31(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:57:57.310333192Z , fatal: False)
2025-06-20T15:57:57.337834718Z INFO 06-20 15:57:57 async_llm_engine.py:179] Finished request 1750435072.9058633.
2025-06-20T15:57:57.346735209Z 2025-06-20 15:57:57.346 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 4.441291570663452
2025-06-20T15:57:59.554116917Z 2025-06-20 15:57:59.553 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T15:57:59.554394193Z 2025-06-20 15:57:59.554 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T15:58:00.421235866Z 2025-06-20 15:58:00.420 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T15:58:00.421517752Z 2025-06-20 15:58:00.421 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T15:58:00.422440445Z 2025-06-20 15:58:00.422 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T15:58:00.423591385Z INFO 06-20 15:58:00 async_llm_engine.py:211] Added request 1750435080.423072.
2025-06-20T15:58:00.565337425Z INFO 06-20 15:58:00 metrics.py:455] Avg prompt throughput: 5.5 tokens/s, Avg generation throughput: 9.3 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.4%, CPU KV cache usage: 0.0%.
2025-06-20T15:58:00.567122329Z 2025-06-20 15:58:00.566 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.14425969123840332
2025-06-20T15:58:00.696058214Z 2025-06-20 15:58:00,695 - src.piper_tts_service - INFO - Generating speech for: ‰Ω†Â•ΩÔºÅ...
2025-06-20T15:58:00.701129014Z 2025-06-20 15:58:00,700 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:58:00.704474905Z 2025-06-20 15:58:00.704 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#32(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T15:58:00.704510664Z , fatal: False)
2025-06-20T15:58:01.159906013Z 2025-06-20 15:58:01.159 | ERROR    | pipecat.transports.network.fastapi_websocket:_write_frame:300 - FastAPIWebsocketOutputTransport#0 exception sending data: WebSocketDisconnect ()
2025-06-20T15:58:01.160516090Z INFO:     connection closed
2025-06-20T15:58:01.160699288Z 2025-06-20 15:58:01.160 | INFO     | src.pipecat_pipeline:on_client_disconnected:129 - Pipecat Client disconnected
2025-06-20T15:58:01.160953586Z 2025-06-20 15:58:01.160 | DEBUG    | pipecat.pipeline.task:_cancel:419 - Canceling pipeline task PipelineTask#0
2025-06-20T15:58:01.162673326Z INFO 06-20 15:58:01 async_llm_engine.py:223] Aborted request 1750435080.423072.
2025-06-20T15:58:01.164780624Z 2025-06-20 15:58:01.164 | INFO     | pipecat.services.ultravox.stt:cancel:315 - UltravoxSTTService cancelled
2025-06-20T15:58:01.166520409Z 2025-06-20 15:58:01.166 | WARNING  | pipecat.serializers.protobuf:serialize:64 - Frame type <class 'pipecat.frames.frames.CancelFrame'> is not serializable
2025-06-20T15:58:01.169133020Z 2025-06-20 15:58:01.168 | DEBUG    | pipecat.pipeline.runner:run:55 - Runner PipelineRunner#0 finished running PipelineTask#0
2025-06-20T16:00:44.899301774Z INFO:     100.64.0.31:57196 - "OPTIONS /connect HTTP/1.1" 200 OK
2025-06-20T16:00:45.024979002Z 2025-06-20 16:00:45,024 - root - INFO - Connect request - returning WebSocket URL: wss://od4i1xsnp7lvzh-8000.proxy.runpod.net/ws
2025-06-20T16:00:45.025055620Z 2025-06-20 16:00:45,024 - root - INFO - Request headers: x-forwarded-host=od4i1xsnp7lvzh-8000.proxy.runpod.net, x-forwarded-proto=https
2025-06-20T16:00:45.025897366Z INFO:     100.64.0.31:57196 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T16:00:45.246623573Z INFO:     ('100.64.0.31', 57208) - "WebSocket /ws" [accepted]
2025-06-20T16:00:45.246686082Z WebSocket connection accepted
2025-06-20T16:00:45.247143972Z 2025-06-20 16:00:45.246 | DEBUG    | pipecat.audio.vad.silero:__init__:111 - Loading Silero VAD model...
2025-06-20T16:00:45.342800234Z 2025-06-20 16:00:45.342 | DEBUG    | pipecat.audio.vad.silero:__init__:133 - Loaded Silero VAD
2025-06-20T16:00:45.343500548Z 2025-06-20 16:00:45,343 - src.piper_tts_service - INFO - Initialized Piper TTS with model: en_US-lessac-medium
2025-06-20T16:00:45.343963257Z 2025-06-20 16:00:45.343 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineSource#1 -> FastAPIWebsocketInputTransport#1
2025-06-20T16:00:45.343988051Z 2025-06-20 16:00:45.343 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketInputTransport#1 -> RTVIProcessor#1
2025-06-20T16:00:45.344073888Z 2025-06-20 16:00:45.343 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking RTVIProcessor#1 -> UltravoxSTTService#0
2025-06-20T16:00:45.344141076Z 2025-06-20 16:00:45.344 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking UltravoxSTTService#0 -> PiperTTSService#1
2025-06-20T16:00:45.344319246Z 2025-06-20 16:00:45.344 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PiperTTSService#1 -> FastAPIWebsocketOutputTransport#1
2025-06-20T16:00:45.344336776Z 2025-06-20 16:00:45.344 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketOutputTransport#1 -> PipelineSink#1
2025-06-20T16:00:45.344784050Z 2025-06-20 16:00:45.344 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineTaskSource#1 -> Pipeline#1
2025-06-20T16:00:45.344985895Z 2025-06-20 16:00:45.344 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking Pipeline#1 -> PipelineTaskSink#1
2025-06-20T16:00:45.345234466Z 2025-06-20 16:00:45.344 | DEBUG    | pipecat.pipeline.runner:run:38 - Runner PipelineRunner#1 started running PipelineTask#1
2025-06-20T16:00:45.346189288Z INFO:     connection open
2025-06-20T16:00:45.347150465Z 2025-06-20 16:00:45.346 | DEBUG    | pipecat.audio.vad.vad_analyzer:set_params:74 - Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.8 min_volume=0.6
2025-06-20T16:00:45.349331098Z 2025-06-20 16:00:45.349 | INFO     | src.pipecat_pipeline:on_client_connected:125 - Pipecat Client connected
2025-06-20T16:00:45.519867403Z 2025-06-20 16:00:45.519 | DEBUG    | pipecat.serializers.protobuf:deserialize:106 - ProtobufFrameSerializer: Transport message TransportMessageUrgentFrame#586(message: {'label': 'rtvi-ai', 'type': 'client-ready', 'data': {}, 'id': '41db44dc'})
2025-06-20T16:00:45.520330740Z 2025-06-20 16:00:45.520 | DEBUG    | pipecat.processors.frameworks.rtvi:_handle_client_ready:844 - Received client-ready
2025-06-20T16:00:45.520430336Z 2025-06-20 16:00:45.520 | INFO     | src.pipecat_pipeline:on_client_ready:118 - Pipecat client ready.
2025-06-20T16:00:45.531839653Z 2025-06-20 16:00:45.520 | ERROR    | pipecat.utils.base_object:_run_task:86 - Exception in event handler on_client_ready: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'
2025-06-20T16:00:45.531865145Z Traceback (most recent call last):
2025-06-20T16:00:45.531886936Z   File "/app/src/main.py", line 116, in <module>
2025-06-20T16:00:45.531898740Z     asyncio.run(main())
2025-06-20T16:00:45.531908378Z     ‚îÇ       ‚îÇ   ‚îî <function main at 0x7734cbfaf370>
2025-06-20T16:00:45.531918435Z     ‚îÇ       ‚îî <function run at 0x77375b9f35b0>
2025-06-20T16:00:45.531927864Z     ‚îî <module 'asyncio' from '/usr/lib/python3.10/asyncio/__init__.py'>
2025-06-20T16:00:45.531946512Z   File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-06-20T16:00:45.531956500Z     return loop.run_until_complete(main)
2025-06-20T16:00:45.531964602Z            ‚îÇ    ‚îÇ                  ‚îî <coroutine object main at 0x7735454f2340>
2025-06-20T16:00:45.531974240Z            ‚îÇ    ‚îî <function BaseEventLoop.run_until_complete at 0x77375afec5e0>
2025-06-20T16:00:45.531983669Z            ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:00:45.531993656Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
2025-06-20T16:00:45.532013212Z     self.run_forever()
2025-06-20T16:00:45.532022711Z     ‚îÇ    ‚îî <function BaseEventLoop.run_forever at 0x77375afec550>
2025-06-20T16:00:45.532032838Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:00:45.532041429Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
2025-06-20T16:00:45.532051905Z     self._run_once()
2025-06-20T16:00:45.532061893Z     ‚îÇ    ‚îî <function BaseEventLoop._run_once at 0x77375afee050>
2025-06-20T16:00:45.532070064Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:00:45.532079982Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 1909, in _run_once
2025-06-20T16:00:45.532089061Z     handle._run()
2025-06-20T16:00:45.532098700Z     ‚îÇ      ‚îî <function Handle._run at 0x77375b145a20>
2025-06-20T16:00:45.532108617Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002db40>()>
2025-06-20T16:00:45.532118535Z   File "/usr/lib/python3.10/asyncio/events.py", line 80, in _run
2025-06-20T16:00:45.532127056Z     self._context.run(self._callback, *self._args)
2025-06-20T16:00:45.532137113Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îÇ    ‚îî <member '_args' of 'Handle' objects>
2025-06-20T16:00:45.532145983Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002db40>()>
2025-06-20T16:00:45.532155412Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îî <member '_callback' of 'Handle' objects>
2025-06-20T16:00:45.532163095Z     ‚îÇ    ‚îÇ            ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002db40>()>
2025-06-20T16:00:45.532173152Z     ‚îÇ    ‚îî <member '_context' of 'Handle' objects>
2025-06-20T16:00:45.532182651Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002db40>()>
2025-06-20T16:00:45.532192219Z > File "/usr/local/lib/python3.10/dist-packages/pipecat/utils/base_object.py", line 82, in _run_task
2025-06-20T16:00:45.532202277Z     await handler(self, *args, **kwargs)
2025-06-20T16:00:45.532211706Z           ‚îÇ       ‚îÇ      ‚îÇ       ‚îî {}
2025-06-20T16:00:45.532220296Z           ‚îÇ       ‚îÇ      ‚îî ()
2025-06-20T16:00:45.532229934Z           ‚îÇ       ‚îî <pipecat.processors.frameworks.rtvi.RTVIProcessor object at 0x7734b004ecb0>
2025-06-20T16:00:45.532237966Z           ‚îî <function run_bot.<locals>.on_client_ready at 0x7734cb5e9fc0>
2025-06-20T16:00:45.532257592Z   File "/app/src/pipecat_pipeline.py", line 121, in on_client_ready
2025-06-20T16:00:45.532265694Z     await tts.say("Hello! I'm your AI assistant. How can I help you today?")
2025-06-20T16:00:45.532275193Z           ‚îÇ   ‚îî <function TTSService.say at 0x773603acbd90>
2025-06-20T16:00:45.532284691Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b004da80>
2025-06-20T16:00:45.532304177Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/services/tts_service.py", line 178, in say
2025-06-20T16:00:45.532311860Z     await self.queue_frame(TTSSpeakFrame(text))
2025-06-20T16:00:45.532321498Z           ‚îÇ    ‚îÇ           ‚îÇ             ‚îî "Hello! I'm your AI assistant. How can I help you today?"
2025-06-20T16:00:45.532330997Z           ‚îÇ    ‚îÇ           ‚îî <class 'pipecat.frames.frames.TTSSpeakFrame'>
2025-06-20T16:00:45.532340985Z           ‚îÇ    ‚îî <function FrameProcessor.queue_frame at 0x773757379630>
2025-06-20T16:00:45.532348597Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b004da80>
2025-06-20T16:00:45.532358725Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/processors/frame_processor.py", line 242, in queue_frame
2025-06-20T16:00:45.532368084Z     await self.__input_queue.put((frame, direction, callback))
2025-06-20T16:00:45.532378141Z           ‚îÇ                       ‚îÇ      ‚îÇ          ‚îî None
2025-06-20T16:00:45.532387849Z           ‚îÇ                       ‚îÇ      ‚îî <FrameDirection.DOWNSTREAM: 1>
2025-06-20T16:00:45.532395392Z           ‚îÇ                       ‚îî TTSSpeakFrame(id=6286, name='TTSSpeakFrame#1', pts=None, metadata={}, transport_source=None, transport_destination=None, text...
2025-06-20T16:00:45.532405240Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b004da80>
2025-06-20T16:00:45.532430174Z AttributeError: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'. Did you mean: '_FrameProcessor__input_event'?
2025-06-20T16:00:56.820265661Z 2025-06-20 16:00:56.819 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:00:58.697689408Z 2025-06-20 16:00:58.697 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:01:41.063244370Z INFO:     connection closed
2025-06-20T16:01:41.063518852Z 2025-06-20 16:01:41.063 | INFO     | src.pipecat_pipeline:on_client_disconnected:129 - Pipecat Client disconnected
2025-06-20T16:01:41.063743607Z 2025-06-20 16:01:41.063 | DEBUG    | pipecat.pipeline.task:_cancel:419 - Canceling pipeline task PipelineTask#1
2025-06-20T16:01:41.067568969Z 2025-06-20 16:01:41.067 | DEBUG    | pipecat.pipeline.runner:run:55 - Runner PipelineRunner#1 finished running PipelineTask#1
2025-06-20T16:01:43.023304906Z 2025-06-20 16:01:43,022 - root - INFO - Connect request - returning WebSocket URL: wss://od4i1xsnp7lvzh-8000.proxy.runpod.net/ws
2025-06-20T16:01:43.023353027Z 2025-06-20 16:01:43,023 - root - INFO - Request headers: x-forwarded-host=od4i1xsnp7lvzh-8000.proxy.runpod.net, x-forwarded-proto=https
2025-06-20T16:01:43.023951231Z INFO:     100.64.0.32:49450 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T16:01:43.342192637Z WebSocket connection accepted
2025-06-20T16:01:43.342226022Z INFO:     ('100.64.0.31', 42166) - "WebSocket /ws" [accepted]
2025-06-20T16:01:43.342572373Z 2025-06-20 16:01:43.342 | DEBUG    | pipecat.audio.vad.silero:__init__:111 - Loading Silero VAD model...
2025-06-20T16:01:43.431668437Z 2025-06-20 16:01:43.431 | DEBUG    | pipecat.audio.vad.silero:__init__:133 - Loaded Silero VAD
2025-06-20T16:01:43.432286895Z 2025-06-20 16:01:43,432 - src.piper_tts_service - INFO - Initialized Piper TTS with model: en_US-lessac-medium
2025-06-20T16:01:43.432631918Z 2025-06-20 16:01:43.432 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineSource#2 -> FastAPIWebsocketInputTransport#2
2025-06-20T16:01:43.432649519Z 2025-06-20 16:01:43.432 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketInputTransport#2 -> RTVIProcessor#2
2025-06-20T16:01:43.432749673Z 2025-06-20 16:01:43.432 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking RTVIProcessor#2 -> UltravoxSTTService#0
2025-06-20T16:01:43.432888591Z 2025-06-20 16:01:43.432 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking UltravoxSTTService#0 -> PiperTTSService#2
2025-06-20T16:01:43.432906191Z 2025-06-20 16:01:43.432 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PiperTTSService#2 -> FastAPIWebsocketOutputTransport#2
2025-06-20T16:01:43.432993495Z 2025-06-20 16:01:43.432 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketOutputTransport#2 -> PipelineSink#2
2025-06-20T16:01:43.433392297Z 2025-06-20 16:01:43.433 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineTaskSource#2 -> Pipeline#2
2025-06-20T16:01:43.433420723Z 2025-06-20 16:01:43.433 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking Pipeline#2 -> PipelineTaskSink#2
2025-06-20T16:01:43.433649459Z 2025-06-20 16:01:43.433 | DEBUG    | pipecat.pipeline.runner:run:38 - Runner PipelineRunner#2 started running PipelineTask#2
2025-06-20T16:01:43.434513485Z INFO:     connection open
2025-06-20T16:01:43.435664355Z 2025-06-20 16:01:43.435 | DEBUG    | pipecat.audio.vad.vad_analyzer:set_params:74 - Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.8 min_volume=0.6
2025-06-20T16:01:43.437240568Z 2025-06-20 16:01:43.437 | INFO     | src.pipecat_pipeline:on_client_connected:125 - Pipecat Client connected
2025-06-20T16:01:43.504271533Z 2025-06-20 16:01:43.503 | DEBUG    | pipecat.serializers.protobuf:deserialize:106 - ProtobufFrameSerializer: Transport message TransportMessageUrgentFrame#591(message: {'label': 'rtvi-ai', 'type': 'client-ready', 'data': {}, 'id': '8cac7e9d'})
2025-06-20T16:01:43.504610271Z 2025-06-20 16:01:43.504 | DEBUG    | pipecat.processors.frameworks.rtvi:_handle_client_ready:844 - Received client-ready
2025-06-20T16:01:43.504653574Z 2025-06-20 16:01:43.504 | INFO     | src.pipecat_pipeline:on_client_ready:118 - Pipecat client ready.
2025-06-20T16:01:43.510915892Z 2025-06-20 16:01:43.504 | ERROR    | pipecat.utils.base_object:_run_task:86 - Exception in event handler on_client_ready: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'
2025-06-20T16:01:43.510954096Z Traceback (most recent call last):
2025-06-20T16:01:43.510972814Z   File "/app/src/main.py", line 116, in <module>
2025-06-20T16:01:43.510981684Z     asyncio.run(main())
2025-06-20T16:01:43.510991113Z     ‚îÇ       ‚îÇ   ‚îî <function main at 0x7734cbfaf370>
2025-06-20T16:01:43.511000192Z     ‚îÇ       ‚îî <function run at 0x77375b9f35b0>
2025-06-20T16:01:43.511009691Z     ‚îî <module 'asyncio' from '/usr/lib/python3.10/asyncio/__init__.py'>
2025-06-20T16:01:43.511027571Z   File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-06-20T16:01:43.511036301Z     return loop.run_until_complete(main)
2025-06-20T16:01:43.511045311Z            ‚îÇ    ‚îÇ                  ‚îî <coroutine object main at 0x7735454f2340>
2025-06-20T16:01:43.511054321Z            ‚îÇ    ‚îî <function BaseEventLoop.run_until_complete at 0x77375afec5e0>
2025-06-20T16:01:43.511062911Z            ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:01:43.511072061Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
2025-06-20T16:01:43.511081000Z     self.run_forever()
2025-06-20T16:01:43.511089591Z     ‚îÇ    ‚îî <function BaseEventLoop.run_forever at 0x77375afec550>
2025-06-20T16:01:43.511099229Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:01:43.511108239Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
2025-06-20T16:01:43.511116760Z     self._run_once()
2025-06-20T16:01:43.511125909Z     ‚îÇ    ‚îî <function BaseEventLoop._run_once at 0x77375afee050>
2025-06-20T16:01:43.511134500Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:01:43.511143580Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 1909, in _run_once
2025-06-20T16:01:43.511152520Z     handle._run()
2025-06-20T16:01:43.511161250Z     ‚îÇ      ‚îî <function Handle._run at 0x77375b145a20>
2025-06-20T16:01:43.511170190Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002c610>()>
2025-06-20T16:01:43.511179269Z   File "/usr/lib/python3.10/asyncio/events.py", line 80, in _run
2025-06-20T16:01:43.511186882Z     self._context.run(self._callback, *self._args)
2025-06-20T16:01:43.511195613Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îÇ    ‚îî <member '_args' of 'Handle' objects>
2025-06-20T16:01:43.511204972Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002c610>()>
2025-06-20T16:01:43.511214051Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îî <member '_callback' of 'Handle' objects>
2025-06-20T16:01:43.511222781Z     ‚îÇ    ‚îÇ            ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002c610>()>
2025-06-20T16:01:43.511233677Z     ‚îÇ    ‚îî <member '_context' of 'Handle' objects>
2025-06-20T16:01:43.511242617Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b002c610>()>
2025-06-20T16:01:43.511251347Z > File "/usr/local/lib/python3.10/dist-packages/pipecat/utils/base_object.py", line 82, in _run_task
2025-06-20T16:01:43.511260008Z     await handler(self, *args, **kwargs)
2025-06-20T16:01:43.511268878Z           ‚îÇ       ‚îÇ      ‚îÇ       ‚îî {}
2025-06-20T16:01:43.511280192Z           ‚îÇ       ‚îÇ      ‚îî ()
2025-06-20T16:01:43.511289342Z           ‚îÇ       ‚îî <pipecat.processors.frameworks.rtvi.RTVIProcessor object at 0x7734b00d0f40>
2025-06-20T16:01:43.511298980Z           ‚îî <function run_bot.<locals>.on_client_ready at 0x7734abf39cf0>
2025-06-20T16:01:43.511316930Z   File "/app/src/pipecat_pipeline.py", line 121, in on_client_ready
2025-06-20T16:01:43.511325660Z     await tts.say("Hello! I'm your AI assistant. How can I help you today?")
2025-06-20T16:01:43.511348918Z           ‚îÇ   ‚îî <function TTSService.say at 0x773603acbd90>
2025-06-20T16:01:43.511358486Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b00d13f0>
2025-06-20T16:01:43.511376506Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/services/tts_service.py", line 178, in say
2025-06-20T16:01:43.511385236Z     await self.queue_frame(TTSSpeakFrame(text))
2025-06-20T16:01:43.511394246Z           ‚îÇ    ‚îÇ           ‚îÇ             ‚îî "Hello! I'm your AI assistant. How can I help you today?"
2025-06-20T16:01:43.511403255Z           ‚îÇ    ‚îÇ           ‚îî <class 'pipecat.frames.frames.TTSSpeakFrame'>
2025-06-20T16:01:43.511411846Z           ‚îÇ    ‚îî <function FrameProcessor.queue_frame at 0x773757379630>
2025-06-20T16:01:43.511420507Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b00d13f0>
2025-06-20T16:01:43.511429516Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/processors/frame_processor.py", line 242, in queue_frame
2025-06-20T16:01:43.511438526Z     await self.__input_queue.put((frame, direction, callback))
2025-06-20T16:01:43.511447256Z           ‚îÇ                       ‚îÇ      ‚îÇ          ‚îî None
2025-06-20T16:01:43.511456266Z           ‚îÇ                       ‚îÇ      ‚îî <FrameDirection.DOWNSTREAM: 1>
2025-06-20T16:01:43.511463809Z           ‚îÇ                       ‚îî TTSSpeakFrame(id=9780, name='TTSSpeakFrame#2', pts=None, metadata={}, transport_source=None, transport_destination=None, text...
2025-06-20T16:01:43.511474355Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b00d13f0>
2025-06-20T16:01:43.511491467Z AttributeError: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'. Did you mean: '_FrameProcessor__input_event'?
2025-06-20T16:01:44.587343350Z 2025-06-20 16:01:44.586 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:01:46.827612513Z 2025-06-20 16:01:46.827 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:02:08.683512044Z INFO:     connection closed
2025-06-20T16:02:08.683796654Z 2025-06-20 16:02:08.683 | INFO     | src.pipecat_pipeline:on_client_disconnected:129 - Pipecat Client disconnected
2025-06-20T16:02:08.683971959Z 2025-06-20 16:02:08.683 | DEBUG    | pipecat.pipeline.task:_cancel:419 - Canceling pipeline task PipelineTask#2
2025-06-20T16:02:08.687777137Z 2025-06-20 16:02:08.687 | DEBUG    | pipecat.pipeline.runner:run:55 - Runner PipelineRunner#2 finished running PipelineTask#2
2025-06-20T16:03:11.545505588Z 2025-06-20 16:03:11,545 - root - INFO - Connect request - returning WebSocket URL: wss://od4i1xsnp7lvzh-8000.proxy.runpod.net/ws
2025-06-20T16:03:11.545559088Z 2025-06-20 16:03:11,545 - root - INFO - Request headers: x-forwarded-host=od4i1xsnp7lvzh-8000.proxy.runpod.net, x-forwarded-proto=https
2025-06-20T16:03:11.546182784Z INFO:     100.64.0.31:47550 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T16:03:11.977778697Z INFO:     ('100.64.0.36', 58268) - "WebSocket /ws" [accepted]
2025-06-20T16:03:11.977776742Z WebSocket connection accepted
2025-06-20T16:03:11.978081466Z 2025-06-20 16:03:11.977 | DEBUG    | pipecat.audio.vad.silero:__init__:111 - Loading Silero VAD model...
2025-06-20T16:03:12.072938796Z 2025-06-20 16:03:12.072 | DEBUG    | pipecat.audio.vad.silero:__init__:133 - Loaded Silero VAD
2025-06-20T16:03:12.073545520Z 2025-06-20 16:03:12,073 - src.piper_tts_service - INFO - Initialized Piper TTS with model: en_US-lessac-medium
2025-06-20T16:03:12.073892220Z 2025-06-20 16:03:12.073 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineSource#3 -> FastAPIWebsocketInputTransport#3
2025-06-20T16:03:12.073917783Z 2025-06-20 16:03:12.073 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketInputTransport#3 -> RTVIProcessor#3
2025-06-20T16:03:12.073979035Z 2025-06-20 16:03:12.073 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking RTVIProcessor#3 -> UltravoxSTTService#0
2025-06-20T16:03:12.074050624Z 2025-06-20 16:03:12.073 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking UltravoxSTTService#0 -> PiperTTSService#3
2025-06-20T16:03:12.074163909Z 2025-06-20 16:03:12.074 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PiperTTSService#3 -> FastAPIWebsocketOutputTransport#3
2025-06-20T16:03:12.074208608Z 2025-06-20 16:03:12.074 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketOutputTransport#3 -> PipelineSink#3
2025-06-20T16:03:12.074612020Z 2025-06-20 16:03:12.074 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineTaskSource#3 -> Pipeline#3
2025-06-20T16:03:12.074644009Z 2025-06-20 16:03:12.074 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking Pipeline#3 -> PipelineTaskSink#3
2025-06-20T16:03:12.074941609Z 2025-06-20 16:03:12.074 | DEBUG    | pipecat.pipeline.runner:run:38 - Runner PipelineRunner#3 started running PipelineTask#3
2025-06-20T16:03:12.075752973Z INFO:     connection open
2025-06-20T16:03:12.076870878Z 2025-06-20 16:03:12.076 | DEBUG    | pipecat.audio.vad.vad_analyzer:set_params:74 - Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.8 min_volume=0.6
2025-06-20T16:03:12.078428303Z 2025-06-20 16:03:12.078 | INFO     | src.pipecat_pipeline:on_client_connected:125 - Pipecat Client connected
2025-06-20T16:03:12.157457290Z 2025-06-20 16:03:12.157 | DEBUG    | pipecat.serializers.protobuf:deserialize:106 - ProtobufFrameSerializer: Transport message TransportMessageUrgentFrame#596(message: {'label': 'rtvi-ai', 'type': 'client-ready', 'data': {}, 'id': 'e8bc12f1'})
2025-06-20T16:03:12.157797564Z 2025-06-20 16:03:12.157 | DEBUG    | pipecat.processors.frameworks.rtvi:_handle_client_ready:844 - Received client-ready
2025-06-20T16:03:12.157837445Z 2025-06-20 16:03:12.157 | INFO     | src.pipecat_pipeline:on_client_ready:118 - Pipecat client ready.
2025-06-20T16:03:12.164061210Z 2025-06-20 16:03:12.157 | ERROR    | pipecat.utils.base_object:_run_task:86 - Exception in event handler on_client_ready: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'
2025-06-20T16:03:12.164087331Z Traceback (most recent call last):
2025-06-20T16:03:12.164105979Z   File "/app/src/main.py", line 116, in <module>
2025-06-20T16:03:12.164114500Z     asyncio.run(main())
2025-06-20T16:03:12.164123649Z     ‚îÇ       ‚îÇ   ‚îî <function main at 0x7734cbfaf370>
2025-06-20T16:03:12.164132310Z     ‚îÇ       ‚îî <function run at 0x77375b9f35b0>
2025-06-20T16:03:12.164140691Z     ‚îî <module 'asyncio' from '/usr/lib/python3.10/asyncio/__init__.py'>
2025-06-20T16:03:12.164159479Z   File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-06-20T16:03:12.164167511Z     return loop.run_until_complete(main)
2025-06-20T16:03:12.164176450Z            ‚îÇ    ‚îÇ                  ‚îî <coroutine object main at 0x7735454f2340>
2025-06-20T16:03:12.164185460Z            ‚îÇ    ‚îî <function BaseEventLoop.run_until_complete at 0x77375afec5e0>
2025-06-20T16:03:12.164195937Z            ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:03:12.164205296Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
2025-06-20T16:03:12.164215213Z     self.run_forever()
2025-06-20T16:03:12.164224852Z     ‚îÇ    ‚îî <function BaseEventLoop.run_forever at 0x77375afec550>
2025-06-20T16:03:12.164232953Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:03:12.164241474Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
2025-06-20T16:03:12.164250065Z     self._run_once()
2025-06-20T16:03:12.164258306Z     ‚îÇ    ‚îî <function BaseEventLoop._run_once at 0x77375afee050>
2025-06-20T16:03:12.164267316Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:03:12.164275837Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 1909, in _run_once
2025-06-20T16:03:12.164284428Z     handle._run()
2025-06-20T16:03:12.164292599Z     ‚îÇ      ‚îî <function Handle._run at 0x77375b145a20>
2025-06-20T16:03:12.164301190Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b00d2410>()>
2025-06-20T16:03:12.164321724Z   File "/usr/lib/python3.10/asyncio/events.py", line 80, in _run
2025-06-20T16:03:12.164330175Z     self._context.run(self._callback, *self._args)
2025-06-20T16:03:12.164338276Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îÇ    ‚îî <member '_args' of 'Handle' objects>
2025-06-20T16:03:12.164346448Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îî <Handle <TaskStepMethWrapper object at 0x7734b00d2410>()>
2025-06-20T16:03:12.164355108Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îî <member '_callback' of 'Handle' objects>
2025-06-20T16:03:12.164363559Z     ‚îÇ    ‚îÇ            ‚îî <Handle <TaskStepMethWrapper object at 0x7734b00d2410>()>
2025-06-20T16:03:12.164374036Z     ‚îÇ    ‚îî <member '_context' of 'Handle' objects>
2025-06-20T16:03:12.164382766Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b00d2410>()>
2025-06-20T16:03:12.164391776Z > File "/usr/local/lib/python3.10/dist-packages/pipecat/utils/base_object.py", line 82, in _run_task
2025-06-20T16:03:12.164400786Z     await handler(self, *args, **kwargs)
2025-06-20T16:03:12.164409376Z           ‚îÇ       ‚îÇ      ‚îÇ       ‚îî {}
2025-06-20T16:03:12.164418107Z           ‚îÇ       ‚îÇ      ‚îî ()
2025-06-20T16:03:12.164426069Z           ‚îÇ       ‚îî <pipecat.processors.frameworks.rtvi.RTVIProcessor object at 0x7734b008ab90>
2025-06-20T16:03:12.164435009Z           ‚îî <function run_bot.<locals>.on_client_ready at 0x7734abf3a0e0>
2025-06-20T16:03:12.164453377Z   File "/app/src/pipecat_pipeline.py", line 121, in on_client_ready
2025-06-20T16:03:12.164462178Z     await tts.say("Hello! I'm your AI assistant. How can I help you today?")
2025-06-20T16:03:12.164470698Z           ‚îÇ   ‚îî <function TTSService.say at 0x773603acbd90>
2025-06-20T16:03:12.164479848Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b008a7d0>
2025-06-20T16:03:12.164496959Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/services/tts_service.py", line 178, in say
2025-06-20T16:03:12.164506039Z     await self.queue_frame(TTSSpeakFrame(text))
2025-06-20T16:03:12.164514280Z           ‚îÇ    ‚îÇ           ‚îÇ             ‚îî "Hello! I'm your AI assistant. How can I help you today?"
2025-06-20T16:03:12.164522801Z           ‚îÇ    ‚îÇ           ‚îî <class 'pipecat.frames.frames.TTSSpeakFrame'>
2025-06-20T16:03:12.164531322Z           ‚îÇ    ‚îî <function FrameProcessor.queue_frame at 0x773757379630>
2025-06-20T16:03:12.164539913Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b008a7d0>
2025-06-20T16:03:12.164548992Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/processors/frame_processor.py", line 242, in queue_frame
2025-06-20T16:03:12.164557094Z     await self.__input_queue.put((frame, direction, callback))
2025-06-20T16:03:12.164566104Z           ‚îÇ                       ‚îÇ      ‚îÇ          ‚îî None
2025-06-20T16:03:12.164574764Z           ‚îÇ                       ‚îÇ      ‚îî <FrameDirection.DOWNSTREAM: 1>
2025-06-20T16:03:12.164587126Z           ‚îÇ                       ‚îî TTSSpeakFrame(id=11378, name='TTSSpeakFrame#3', pts=None, metadata={}, transport_source=None, transport_destination=None, tex...
2025-06-20T16:03:12.164596625Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b008a7d0>
2025-06-20T16:03:12.164612968Z AttributeError: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'. Did you mean: '_FrameProcessor__input_event'?
2025-06-20T16:03:13.310457362Z 2025-06-20 16:03:13.310 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:03:15.131200643Z 2025-06-20 16:03:15.130 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:03:47.516254982Z 2025-06-20 16:03:47.515 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:03:51.644795533Z 2025-06-20 16:03:51.644 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:04:25.701978280Z 2025-06-20 16:04:25.701 | INFO     | src.pipecat_pipeline:on_client_disconnected:129 - Pipecat Client disconnected
2025-06-20T16:04:25.702172443Z 2025-06-20 16:04:25.701 | DEBUG    | pipecat.pipeline.task:_cancel:419 - Canceling pipeline task PipelineTask#3
2025-06-20T16:04:25.703370597Z INFO:     connection closed
2025-06-20T16:04:25.707403881Z 2025-06-20 16:04:25.707 | DEBUG    | pipecat.pipeline.runner:run:55 - Runner PipelineRunner#3 finished running PipelineTask#3
2025-06-20T16:08:25.906970318Z 2025-06-20 16:08:25,906 - root - INFO - Connect request - returning WebSocket URL: wss://od4i1xsnp7lvzh-8000.proxy.runpod.net/ws
2025-06-20T16:08:25.907031710Z 2025-06-20 16:08:25,906 - root - INFO - Request headers: x-forwarded-host=od4i1xsnp7lvzh-8000.proxy.runpod.net, x-forwarded-proto=https
2025-06-20T16:08:25.907629984Z INFO:     100.64.0.36:43406 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T16:08:26.381622874Z WebSocket connection accepted
2025-06-20T16:08:26.381671834Z INFO:     ('100.64.0.31', 51318) - "WebSocket /ws" [accepted]
2025-06-20T16:08:26.382033759Z 2025-06-20 16:08:26.381 | DEBUG    | pipecat.audio.vad.silero:__init__:111 - Loading Silero VAD model...
2025-06-20T16:08:26.478291229Z 2025-06-20 16:08:26.477 | DEBUG    | pipecat.audio.vad.silero:__init__:133 - Loaded Silero VAD
2025-06-20T16:08:26.478953548Z 2025-06-20 16:08:26,478 - src.piper_tts_service - INFO - Initialized Piper TTS with model: en_US-lessac-medium
2025-06-20T16:08:26.479306115Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineSource#4 -> FastAPIWebsocketInputTransport#4
2025-06-20T16:08:26.479322318Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketInputTransport#4 -> RTVIProcessor#4
2025-06-20T16:08:26.479402288Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking RTVIProcessor#4 -> UltravoxSTTService#0
2025-06-20T16:08:26.479460468Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking UltravoxSTTService#0 -> PiperTTSService#4
2025-06-20T16:08:26.479544488Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PiperTTSService#4 -> FastAPIWebsocketOutputTransport#4
2025-06-20T16:08:26.479612096Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketOutputTransport#4 -> PipelineSink#4
2025-06-20T16:08:26.480001959Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineTaskSource#4 -> Pipeline#4
2025-06-20T16:08:26.480072081Z 2025-06-20 16:08:26.479 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking Pipeline#4 -> PipelineTaskSink#4
2025-06-20T16:08:26.480285381Z 2025-06-20 16:08:26.480 | DEBUG    | pipecat.pipeline.runner:run:38 - Runner PipelineRunner#4 started running PipelineTask#4
2025-06-20T16:08:26.481110086Z INFO:     connection open
2025-06-20T16:08:26.482257953Z 2025-06-20 16:08:26.482 | DEBUG    | pipecat.audio.vad.vad_analyzer:set_params:74 - Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.8 min_volume=0.6
2025-06-20T16:08:26.483896954Z 2025-06-20 16:08:26.483 | INFO     | src.pipecat_pipeline:on_client_connected:125 - Pipecat Client connected
2025-06-20T16:08:26.640691751Z 2025-06-20 16:08:26.640 | DEBUG    | pipecat.serializers.protobuf:deserialize:106 - ProtobufFrameSerializer: Transport message TransportMessageUrgentFrame#603(message: {'label': 'rtvi-ai', 'type': 'client-ready', 'data': {}, 'id': '9ab07a7e'})
2025-06-20T16:08:26.641151806Z 2025-06-20 16:08:26.640 | DEBUG    | pipecat.processors.frameworks.rtvi:_handle_client_ready:844 - Received client-ready
2025-06-20T16:08:26.642154400Z 2025-06-20 16:08:26.641 | INFO     | src.pipecat_pipeline:on_client_ready:118 - Pipecat client ready.
2025-06-20T16:08:26.654057854Z 2025-06-20 16:08:26.642 | ERROR    | pipecat.utils.base_object:_run_task:86 - Exception in event handler on_client_ready: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'
2025-06-20T16:08:26.654084953Z Traceback (most recent call last):
2025-06-20T16:08:26.654104300Z   File "/app/src/main.py", line 116, in <module>
2025-06-20T16:08:26.654127837Z     asyncio.run(main())
2025-06-20T16:08:26.654138383Z     ‚îÇ       ‚îÇ   ‚îî <function main at 0x7734cbfaf370>
2025-06-20T16:08:26.654147183Z     ‚îÇ       ‚îî <function run at 0x77375b9f35b0>
2025-06-20T16:08:26.654157660Z     ‚îî <module 'asyncio' from '/usr/lib/python3.10/asyncio/__init__.py'>
2025-06-20T16:08:26.654174422Z   File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-06-20T16:08:26.654182943Z     return loop.run_until_complete(main)
2025-06-20T16:08:26.654191534Z            ‚îÇ    ‚îÇ                  ‚îî <coroutine object main at 0x7735454f2340>
2025-06-20T16:08:26.654201661Z            ‚îÇ    ‚îî <function BaseEventLoop.run_until_complete at 0x77375afec5e0>
2025-06-20T16:08:26.654209763Z            ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:08:26.654219121Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
2025-06-20T16:08:26.654228341Z     self.run_forever()
2025-06-20T16:08:26.654238328Z     ‚îÇ    ‚îî <function BaseEventLoop.run_forever at 0x77375afec550>
2025-06-20T16:08:26.654247268Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:08:26.654255929Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
2025-06-20T16:08:26.654264589Z     self._run_once()
2025-06-20T16:08:26.654273040Z     ‚îÇ    ‚îî <function BaseEventLoop._run_once at 0x77375afee050>
2025-06-20T16:08:26.654281631Z     ‚îî <_UnixSelectorEventLoop running=True closed=False debug=False>
2025-06-20T16:08:26.654289802Z   File "/usr/lib/python3.10/asyncio/base_events.py", line 1909, in _run_once
2025-06-20T16:08:26.654298393Z     handle._run()
2025-06-20T16:08:26.654307403Z     ‚îÇ      ‚îî <function Handle._run at 0x77375b145a20>
2025-06-20T16:08:26.654315993Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b003ba60>()>
2025-06-20T16:08:26.654325632Z   File "/usr/lib/python3.10/asyncio/events.py", line 80, in _run
2025-06-20T16:08:26.654334083Z     self._context.run(self._callback, *self._args)
2025-06-20T16:08:26.654342743Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îÇ    ‚îî <member '_args' of 'Handle' objects>
2025-06-20T16:08:26.654350845Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îÇ           ‚îî <Handle <TaskStepMethWrapper object at 0x7734b003ba60>()>
2025-06-20T16:08:26.654360972Z     ‚îÇ    ‚îÇ            ‚îÇ    ‚îî <member '_callback' of 'Handle' objects>
2025-06-20T16:08:26.654369842Z     ‚îÇ    ‚îÇ            ‚îî <Handle <TaskStepMethWrapper object at 0x7734b003ba60>()>
2025-06-20T16:08:26.654379760Z     ‚îÇ    ‚îî <member '_context' of 'Handle' objects>
2025-06-20T16:08:26.654388351Z     ‚îî <Handle <TaskStepMethWrapper object at 0x7734b003ba60>()>
2025-06-20T16:08:26.654396872Z > File "/usr/local/lib/python3.10/dist-packages/pipecat/utils/base_object.py", line 82, in _run_task
2025-06-20T16:08:26.654406230Z     await handler(self, *args, **kwargs)
2025-06-20T16:08:26.654415729Z           ‚îÇ       ‚îÇ      ‚îÇ       ‚îî {}
2025-06-20T16:08:26.654425437Z           ‚îÇ       ‚îÇ      ‚îî ()
2025-06-20T16:08:26.654434377Z           ‚îÇ       ‚îî <pipecat.processors.frameworks.rtvi.RTVIProcessor object at 0x7734b008b850>
2025-06-20T16:08:26.654443876Z           ‚îî <function run_bot.<locals>.on_client_ready at 0x7734abf3a8c0>
2025-06-20T16:08:26.654461127Z   File "/app/src/pipecat_pipeline.py", line 121, in on_client_ready
2025-06-20T16:08:26.654469648Z     await tts.say("Hello! I'm your AI assistant. How can I help you today?")
2025-06-20T16:08:26.654478238Z           ‚îÇ   ‚îî <function TTSService.say at 0x773603acbd90>
2025-06-20T16:08:26.654486899Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b008b4f0>
2025-06-20T16:08:26.654504918Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/services/tts_service.py", line 178, in say
2025-06-20T16:08:26.654514557Z     await self.queue_frame(TTSSpeakFrame(text))
2025-06-20T16:08:26.654523147Z           ‚îÇ    ‚îÇ           ‚îÇ             ‚îî "Hello! I'm your AI assistant. How can I help you today?"
2025-06-20T16:08:26.654531668Z           ‚îÇ    ‚îÇ           ‚îî <class 'pipecat.frames.frames.TTSSpeakFrame'>
2025-06-20T16:08:26.654545986Z           ‚îÇ    ‚îî <function FrameProcessor.queue_frame at 0x773757379630>
2025-06-20T16:08:26.654554646Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b008b4f0>
2025-06-20T16:08:26.654564564Z   File "/usr/local/lib/python3.10/dist-packages/pipecat/processors/frame_processor.py", line 242, in queue_frame
2025-06-20T16:08:26.654573155Z     await self.__input_queue.put((frame, direction, callback))
2025-06-20T16:08:26.654581815Z           ‚îÇ                       ‚îÇ      ‚îÇ          ‚îî None
2025-06-20T16:08:26.654590755Z           ‚îÇ                       ‚îÇ      ‚îî <FrameDirection.DOWNSTREAM: 1>
2025-06-20T16:08:26.654600324Z           ‚îÇ                       ‚îî TTSSpeakFrame(id=16009, name='TTSSpeakFrame#4', pts=None, metadata={}, transport_source=None, transport_destination=None, tex...
2025-06-20T16:08:26.654608495Z           ‚îî <src.piper_tts_service.PiperTTSService object at 0x7734b008b4f0>
2025-06-20T16:08:26.654625537Z AttributeError: 'PiperTTSService' object has no attribute '_FrameProcessor__input_queue'. Did you mean: '_FrameProcessor__input_event'?
2025-06-20T16:08:28.739257270Z 2025-06-20 16:08:28.738 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:08:30.752533718Z 2025-06-20 16:08:30.752 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:09:43.030585376Z 2025-06-20 16:09:43.030 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:09:44.072663917Z 2025-06-20 16:09:44.072 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:09:49.890930337Z 2025-06-20 16:09:49.890 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:09:53.590537454Z 2025-06-20 16:09:53.590 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:10:42.750818773Z 2025-06-20 16:10:42.750 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:10:47.902349048Z 2025-06-20 16:10:47.901 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:10:53.183448684Z 2025-06-20 16:10:53.183 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:10:55.425890937Z 2025-06-20 16:10:55.425 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:10:58.430458100Z 2025-06-20 16:10:58.430 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:10:59.648272256Z 2025-06-20 16:10:59.647 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:11:00.311843402Z 2025-06-20 16:11:00.311 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:11:01.409538283Z 2025-06-20 16:11:01.409 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:11:08.671050099Z 2025-06-20 16:11:08.670 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:11:11.907064762Z 2025-06-20 16:11:11.906 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:13:04.103047855Z ==========
2025-06-20T16:13:04.103080820Z == CUDA ==
2025-06-20T16:13:04.103184328Z ==========
2025-06-20T16:13:04.109544286Z CUDA Version 11.8.0
2025-06-20T16:13:04.111679452Z Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
2025-06-20T16:13:04.113998863Z This container image and its contents are governed by the NVIDIA Deep Learning Container License.
2025-06-20T16:13:04.114032666Z By pulling and using the container, you accept the terms and conditions of this license:
2025-06-20T16:13:04.114042514Z https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
2025-06-20T16:13:04.114061092Z A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
2025-06-20T16:13:04.162400299Z  * Starting OpenBSD Secure Shell server sshd
2025-06-20T16:13:04.181406840Z    ...done.
2025-06-20T16:13:04.181917601Z üîß Development mode starting...
2025-06-20T16:13:04.182034937Z üîÑ Updating source code...
2025-06-20T16:13:05.096184313Z From https://github.com/Panzah-Nexus/voice-pipeline
2025-06-20T16:13:05.096246333Z  * branch            cursor_oneshot -> FETCH_HEAD
2025-06-20T16:13:05.097251930Z    789cddd..71823ca  cursor_oneshot -> origin/cursor_oneshot
2025-06-20T16:13:05.126159741Z Updating 789cddd..71823ca
2025-06-20T16:13:05.126193545Z Fast-forward
2025-06-20T16:13:05.132016552Z  client/websocket-client/src/app.ts | 7 ++++++-
2025-06-20T16:13:05.132042813Z  src/pipecat_pipeline.py            | 8 ++++----
2025-06-20T16:13:05.132052731Z  2 files changed, 10 insertions(+), 5 deletions(-)
2025-06-20T16:13:05.133941211Z üìÅ Copying source code...
2025-06-20T16:13:05.139178377Z üöÄ Starting voice pipeline...
2025-06-20T16:13:05.603527301Z 2025-06-20 16:13:05.603 | INFO     | pipecat:<module>:14 - ·ìö·òè·ó¢ Pipecat 0.0.71 (Python 3.10.12 (main, May 27 2025, 17:12:29) [GCC 11.4.0]) ·ìö·òè·ó¢
2025-06-20T16:13:21.738887207Z 2025-06-20 16:13:21.738 | INFO     | src.pipecat_pipeline:<module>:58 - Loading UltravoxSTTService... this can take a while on first run.
2025-06-20T16:13:21.970919155Z Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T16:13:21.970952539Z 2025-06-20 16:13:21,970 - huggingface_hub._login - WARNING - Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T16:13:22.079106340Z INFO 06-20 16:13:22 __init__.py:207] Automatically detected platform cuda.
2025-06-20T16:13:29.627928036Z INFO 06-20 16:13:29 config.py:549] This model supports multiple tasks: {'classify', 'embed', 'score', 'reward', 'generate'}. Defaulting to 'generate'.
2025-06-20T16:13:29.630615449Z INFO 06-20 16:13:29 llm_engine.py:234] Initializing a V0 LLM engine (v0.7.3) with config: model='fixie-ai/ultravox-v0_5-llama-3_1-8b', speculative_config=None, tokenizer='fixie-ai/ultravox-v0_5-llama-3_1-8b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, override_neuron_config=None, tokenizer_revision=None, trust_remote_code=True, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=auto, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto,  device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='xgrammar'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=fixie-ai/ultravox-v0_5-llama-3_1-8b, num_scheduler_steps=1, multi_step_stream_outputs=True, enable_prefix_caching=False, chunked_prefill_enabled=False, use_async_output_proc=True, disable_mm_preprocessor_cache=False, mm_processor_kwargs=None, pooler_config=None, compilation_config={"splitting_ops":[],"compile_sizes":[],"cudagraph_capture_sizes":[256,248,240,232,224,216,208,200,192,184,176,168,160,152,144,136,128,120,112,104,96,88,80,72,64,56,48,40,32,24,16,8,4,2,1],"max_capture_size":256}, use_cached_outputs=False,
2025-06-20T16:13:35.822435982Z INFO 06-20 16:13:35 cuda.py:229] Using Flash Attention backend.
2025-06-20T16:13:36.310144472Z INFO 06-20 16:13:36 model_runner.py:1110] Starting to load model fixie-ai/ultravox-v0_5-llama-3_1-8b...
2025-06-20T16:13:36.520359962Z INFO 06-20 16:13:36 config.py:3054] cudagraph sizes specified by model runner [1, 2, 4, 8, 16, 24, 32, 40, 48, 56, 64, 72, 80, 88, 96, 104, 112, 120, 128, 136, 144, 152, 160, 168, 176, 184, 192, 200, 208, 216, 224, 232, 240, 248, 256] is overridden by config [256, 128, 2, 1, 4, 136, 8, 144, 16, 152, 24, 160, 32, 168, 40, 176, 48, 184, 56, 192, 64, 200, 72, 208, 80, 216, 88, 120, 224, 96, 232, 104, 240, 112, 248]
2025-06-20T16:13:37.039591039Z INFO 06-20 16:13:37 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T16:13:37.321462138Z INFO 06-20 16:13:37 weight_utils.py:304] No model.safetensors.index.json found in remote.
2025-06-20T16:13:37.322906069Z Loading safetensors checkpoint shards:   0% Completed | 0/1 [00:00<?, ?it/s]
2025-06-20T16:13:37.601737259Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.59it/s]
2025-06-20T16:13:37.601894545Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.59it/s]
2025-06-20T16:13:37.894807936Z INFO 06-20 16:13:37 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T16:13:38.183000929Z Loading safetensors checkpoint shards:   0% Completed | 0/4 [00:00<?, ?it/s]
2025-06-20T16:13:38.836535525Z Loading safetensors checkpoint shards:  25% Completed | 1/4 [00:00<00:01,  1.53it/s]
2025-06-20T16:13:39.631178287Z Loading safetensors checkpoint shards:  50% Completed | 2/4 [00:01<00:01,  1.36it/s]
2025-06-20T16:13:40.014358309Z Loading safetensors checkpoint shards:  75% Completed | 3/4 [00:01<00:00,  1.74it/s]
2025-06-20T16:13:40.594590122Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.73it/s]
2025-06-20T16:13:40.594870750Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.66it/s]
2025-06-20T16:13:41.057035968Z INFO 06-20 16:13:41 model_runner.py:1115] Loading model weights took 16.2698 GB
2025-06-20T16:13:54.509022565Z INFO 06-20 16:13:54 worker.py:267] Memory profiling takes 13.26 seconds
2025-06-20T16:13:54.509079906Z INFO 06-20 16:13:54 worker.py:267] the current vLLM instance can use total_gpu_memory (22.06GiB) x gpu_memory_utilization (0.90) = 19.85GiB
2025-06-20T16:13:54.509089754Z INFO 06-20 16:13:54 worker.py:267] model weights take 16.27GiB; non_torch_memory takes 0.05GiB; PyTorch activation peak memory takes 1.95GiB; the rest of the memory reserved for KV Cache is 1.59GiB.
2025-06-20T16:13:54.692665858Z INFO 06-20 16:13:54 executor_base.py:111] # cuda blocks: 813, # CPU blocks: 2048
2025-06-20T16:13:54.692694424Z INFO 06-20 16:13:54 executor_base.py:116] Maximum concurrency for 8192 tokens per request: 1.59x
2025-06-20T16:13:58.367000160Z INFO 06-20 16:13:58 model_runner.py:1434] Capturing cudagraphs for decoding. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI. If out-of-memory error occurs during cudagraph capture, consider decreasing `gpu_memory_utilization` or switching to eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.
2025-06-20T16:14:18.253533713Z Capturing CUDA graph shapes:   0%|          | 0/35 [00:00<?, ?it/s]Capturing CUDA graph shapes:   3%|‚ñé         | 1/35 [00:00<00:19,  1.74it/s]Capturing CUDA graph shapes:   6%|‚ñå         | 2/35 [00:01<00:18,  1.76it/s]Capturing CUDA graph shapes:   9%|‚ñä         | 3/35 [00:01<00:18,  1.76it/s]Capturing CUDA graph shapes:  11%|‚ñà‚ñè        | 4/35 [00:02<00:17,  1.76it/s]Capturing CUDA graph shapes:  14%|‚ñà‚ñç        | 5/35 [00:02<00:16,  1.77it/s]Capturing CUDA graph shapes:  17%|‚ñà‚ñã        | 6/35 [00:03<00:16,  1.77it/s]Capturing CUDA graph shapes:  20%|‚ñà‚ñà        | 7/35 [00:03<00:15,  1.77it/s]Capturing CUDA graph shapes:  23%|‚ñà‚ñà‚ñé       | 8/35 [00:04<00:15,  1.78it/s]Capturing CUDA graph shapes:  26%|‚ñà‚ñà‚ñå       | 9/35 [00:05<00:14,  1.79it/s]Capturing CUDA graph shapes:  29%|‚ñà‚ñà‚ñä       | 10/35 [00:05<00:13,  1.79it/s]Capturing CUDA graph shapes:  31%|‚ñà‚ñà‚ñà‚ñè      | 11/35 [00:06<00:13,  1.79it/s]Capturing CUDA graph shapes:  34%|‚ñà‚ñà‚ñà‚ñç      | 12/35 [00:06<00:12,  1.80it/s]Capturing CUDA graph shapes:  37%|‚ñà‚ñà‚ñà‚ñã      | 13/35 [00:07<00:12,  1.80it/s]Capturing CUDA graph shapes:  40%|‚ñà‚ñà‚ñà‚ñà      | 14/35 [00:07<00:11,  1.81it/s]Capturing CUDA graph shapes:  43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 15/35 [00:08<00:11,  1.81it/s]Capturing CUDA graph shapes:  46%|‚ñà‚ñà‚ñà‚ñà‚ñå     | 16/35 [00:08<00:10,  1.81it/s]Capturing CUDA graph shapes:  49%|‚ñà‚ñà‚ñà‚ñà‚ñä     | 17/35 [00:09<00:09,  1.82it/s]Capturing CUDA graph shapes:  51%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè    | 18/35 [00:10<00:09,  1.83it/s]Capturing CUDA graph shapes:  54%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    | 19/35 [00:10<00:08,  1.84it/s]Capturing CUDA graph shapes:  57%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã    | 20/35 [00:11<00:08,  1.80it/s]Capturing CUDA graph shapes:  60%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    | 21/35 [00:11<00:07,  1.77it/s]Capturing CUDA graph shapes:  63%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé   | 22/35 [00:12<00:07,  1.75it/s]Capturing CUDA graph shapes:  66%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå   | 23/35 [00:12<00:06,  1.74it/s]Capturing CUDA graph shapes:  69%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä   | 24/35 [00:13<00:06,  1.73it/s]Capturing CUDA graph shapes:  71%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  | 25/35 [00:14<00:05,  1.74it/s]Capturing CUDA graph shapes:  74%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  | 26/35 [00:14<00:05,  1.66it/s]Capturing CUDA graph shapes:  77%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã  | 27/35 [00:15<00:04,  1.68it/s]Capturing CUDA graph shapes:  80%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  | 28/35 [00:15<00:04,  1.70it/s]Capturing CUDA graph shapes:  83%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé | 29/35 [00:16<00:03,  1.70it/s]Capturing CUDA graph shapes:  86%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 30/35 [00:17<00:02,  1.68it/s]Capturing CUDA graph shapes:  89%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä | 31/35 [00:17<00:02,  1.71it/s]Capturing CUDA graph shapes:  91%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 32/35 [00:18<00:01,  1.73it/s]Capturing CUDA graph shapes:  94%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç| 33/35 [00:18<00:01,  1.75it/s]Capturing CUDA graph shapes:  97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 34/35 [00:19<00:00,  1.76it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:19<00:00,  1.76it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:19<00:00,  1.76it/s]
2025-06-20T16:14:18.253918128Z INFO 06-20 16:14:18 model_runner.py:1562] Graph capturing finished in 20 secs, took 0.26 GiB
2025-06-20T16:14:18.255006628Z INFO 06-20 16:14:18 llm_engine.py:436] init engine (profile, create kv cache, warmup model) took 37.20 seconds
2025-06-20T16:14:19.120470168Z 2025-06-20 16:14:19.120 | INFO     | pipecat.services.ultravox.stt:__init__:223 - Initialized UltravoxSTTService with model: fixie-ai/ultravox-v0_5-llama-3_1-8b
2025-06-20T16:14:19.120498175Z 2025-06-20 16:14:19.120 | INFO     | src.pipecat_pipeline:<module>:67 - Ultravox model initialized successfully!
2025-06-20T16:14:19.124794697Z 2025-06-20 16:14:19,124 - root - INFO - Starting voice pipeline server on 0.0.0.0:8000
2025-06-20T16:14:19.152751877Z INFO:     Started server process [75]
2025-06-20T16:14:19.152801046Z INFO:     Waiting for application startup.
2025-06-20T16:14:19.153239799Z INFO:     Application startup complete.
2025-06-20T16:14:19.153586918Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-06-20T16:41:52.278086099Z INFO:     100.64.0.32:48190 - "GET / HTTP/1.1" 200 OK
2025-06-20T16:42:05.930817718Z INFO:     100.64.0.36:43618 - "OPTIONS /connect HTTP/1.1" 200 OK
2025-06-20T16:42:06.003591787Z 2025-06-20 16:42:06,003 - root - INFO - Connect request - returning WebSocket URL: wss://od4i1xsnp7lvzh-8000.proxy.runpod.net/ws
2025-06-20T16:42:06.003739784Z 2025-06-20 16:42:06,003 - root - INFO - Request headers: x-forwarded-host=od4i1xsnp7lvzh-8000.proxy.runpod.net, x-forwarded-proto=https
2025-06-20T16:42:06.004341061Z INFO:     100.64.0.36:43618 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T16:42:06.415143416Z INFO:     ('100.64.0.31', 45106) - "WebSocket /ws" [accepted]
2025-06-20T16:42:06.415305032Z WebSocket connection accepted
2025-06-20T16:42:06.415670520Z 2025-06-20 16:42:06.415 | DEBUG    | pipecat.audio.vad.silero:__init__:111 - Loading Silero VAD model...
2025-06-20T16:42:06.541676074Z 2025-06-20 16:42:06.541 | DEBUG    | pipecat.audio.vad.silero:__init__:133 - Loaded Silero VAD
2025-06-20T16:42:06.542927029Z 2025-06-20 16:42:06,542 - src.piper_tts_service - INFO - Initialized Piper TTS with model: en_US-lessac-medium
2025-06-20T16:42:06.543651439Z 2025-06-20 16:42:06.543 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineSource#0 -> FastAPIWebsocketInputTransport#0
2025-06-20T16:42:06.543923407Z 2025-06-20 16:42:06.543 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketInputTransport#0 -> RTVIProcessor#0
2025-06-20T16:42:06.544097525Z 2025-06-20 16:42:06.543 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking RTVIProcessor#0 -> UltravoxSTTService#0
2025-06-20T16:42:06.544279675Z 2025-06-20 16:42:06.544 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking UltravoxSTTService#0 -> PiperTTSService#0
2025-06-20T16:42:06.544473908Z 2025-06-20 16:42:06.544 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PiperTTSService#0 -> FastAPIWebsocketOutputTransport#0
2025-06-20T16:42:06.544636572Z 2025-06-20 16:42:06.544 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketOutputTransport#0 -> PipelineSink#0
2025-06-20T16:42:06.545179181Z 2025-06-20 16:42:06.544 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineTaskSource#0 -> Pipeline#0
2025-06-20T16:42:06.545463022Z 2025-06-20 16:42:06.545 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking Pipeline#0 -> PipelineTaskSink#0
2025-06-20T16:42:06.545751124Z 2025-06-20 16:42:06.545 | DEBUG    | pipecat.pipeline.runner:run:38 - Runner PipelineRunner#0 started running PipelineTask#0
2025-06-20T16:42:06.547672989Z INFO:     connection open
2025-06-20T16:42:06.549694380Z 2025-06-20 16:42:06.549 | INFO     | pipecat.services.ultravox.stt:_warm_up_model:232 - Warming up Ultravox model with silent audio...
2025-06-20T16:42:06.549981854Z 2025-06-20 16:42:06.549 | INFO     | pipecat.services.ultravox.stt:_generate_silent_audio:272 - Generated 1s of silent audio (16000 samples)
2025-06-20T16:42:06.695027752Z INFO 06-20 16:42:06 async_llm_engine.py:211] Added request 1750437726.6942954.
2025-06-20T16:42:16.626946592Z INFO 06-20 16:42:16 metrics.py:455] Avg prompt throughput: 0.0 tokens/s, Avg generation throughput: 0.0 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.4%, CPU KV cache usage: 0.0%.
2025-06-20T16:42:19.699162277Z INFO 06-20 16:42:19 async_llm_engine.py:179] Finished request 1750437726.6942954.
2025-06-20T16:42:19.743827259Z 2025-06-20 16:42:19.743 | INFO     | pipecat.services.ultravox.stt:_warm_up_model:252 - Model warm-up completed successfully
2025-06-20T16:42:19.743946341Z 2025-06-20 16:42:19.743 | INFO     | pipecat.services.ultravox.stt:start:294 - UltravoxSTTService started
2025-06-20T16:42:19.745877775Z 2025-06-20 16:42:19.745 | DEBUG    | pipecat.audio.vad.vad_analyzer:set_params:74 - Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.8 min_volume=0.6
2025-06-20T16:42:19.750840248Z 2025-06-20 16:42:19.750 | INFO     | src.pipecat_pipeline:on_client_connected:125 - Pipecat Client connected
2025-06-20T16:42:19.751210415Z 2025-06-20 16:42:19.751 | DEBUG    | pipecat.serializers.protobuf:deserialize:106 - ProtobufFrameSerializer: Transport message TransportMessageUrgentFrame#1(message: {'label': 'rtvi-ai', 'type': 'client-ready', 'data': {}, 'id': '4c79197c'})
2025-06-20T16:42:19.754954060Z 2025-06-20 16:42:19.754 | DEBUG    | pipecat.processors.frameworks.rtvi:_handle_client_ready:844 - Received client-ready
2025-06-20T16:42:19.758129744Z 2025-06-20 16:42:19.757 | INFO     | src.pipecat_pipeline:on_client_ready:119 - Pipecat client ready.
2025-06-20T16:42:20.318760416Z 2025-06-20 16:42:20.318 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:42:20.318967779Z 2025-06-20 16:42:20.318 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:42:20.602992398Z 2025-06-20 16:42:20.602 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:42:20.603044361Z 2025-06-20 16:42:20.602 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:42:20.603675740Z 2025-06-20 16:42:20.603 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:42:20.604360270Z INFO 06-20 16:42:20 async_llm_engine.py:211] Added request 1750437740.6040604.
2025-06-20T16:42:20.759039101Z 2025-06-20 16:42:20.758 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.15480613708496094
2025-06-20T16:42:21.384345565Z 2025-06-20 16:42:21,383 - src.piper_tts_service - INFO - Generating speech for: I'm an artificial intelligence model known as Llam...
2025-06-20T16:42:21.389544106Z 2025-06-20 16:42:21,389 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:42:21.393002235Z 2025-06-20 16:42:21.392 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#0(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:42:21.393027518Z , fatal: False)
2025-06-20T16:42:21.681788249Z INFO 06-20 16:42:21 metrics.py:455] Avg prompt throughput: 9.9 tokens/s, Avg generation throughput: 12.9 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.6%, CPU KV cache usage: 0.0%.
2025-06-20T16:42:22.112908094Z INFO 06-20 16:42:22 async_llm_engine.py:179] Finished request 1750437740.6040604.
2025-06-20T16:42:22.114216041Z 2025-06-20 16:42:22.113 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 1.5100915431976318
2025-06-20T16:42:22.122147184Z 2025-06-20 16:42:22,121 - src.piper_tts_service - INFO - Generating speech for:  Llama stands for "Large Language Model Meta AI."...
2025-06-20T16:42:22.129935498Z 2025-06-20 16:42:22,129 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:42:22.134040301Z 2025-06-20 16:42:22.133 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#1(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:42:22.134067051Z , fatal: False)
2025-06-20T16:47:22.167058527Z 2025-06-20 16:47:22.166 | WARNING  | pipecat.pipeline.task:_idle_timeout_detected:679 - Idle pipeline detected, cancelling pipeline task...
2025-06-20T16:47:22.167229502Z 2025-06-20 16:47:22.166 | DEBUG    | pipecat.pipeline.task:_cancel:419 - Canceling pipeline task PipelineTask#0
2025-06-20T16:47:22.170370684Z 2025-06-20 16:47:22.170 | INFO     | pipecat.services.ultravox.stt:cancel:315 - UltravoxSTTService cancelled
2025-06-20T16:47:22.172218586Z 2025-06-20 16:47:22.171 | WARNING  | pipecat.serializers.protobuf:serialize:64 - Frame type <class 'pipecat.frames.frames.CancelFrame'> is not serializable
2025-06-20T16:47:22.271279959Z INFO:     connection closed
2025-06-20T16:47:22.271559540Z 2025-06-20 16:47:22.271 | INFO     | src.pipecat_pipeline:on_client_disconnected:129 - Pipecat Client disconnected
2025-06-20T16:47:22.273853179Z 2025-06-20 16:47:22.273 | DEBUG    | pipecat.pipeline.runner:run:55 - Runner PipelineRunner#0 finished running PipelineTask#0
2025-06-20T16:47:39.419835568Z ==========
2025-06-20T16:47:39.419858966Z == CUDA ==
2025-06-20T16:47:39.420001864Z ==========
2025-06-20T16:47:39.426395976Z CUDA Version 11.8.0
2025-06-20T16:47:39.427211670Z Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
2025-06-20T16:47:39.429168946Z This container image and its contents are governed by the NVIDIA Deep Learning Container License.
2025-06-20T16:47:39.429196743Z By pulling and using the container, you accept the terms and conditions of this license:
2025-06-20T16:47:39.429204705Z https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
2025-06-20T16:47:39.429219651Z A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
2025-06-20T16:47:39.464045523Z  * Starting OpenBSD Secure Shell server sshd
2025-06-20T16:47:39.475514764Z    ...done.
2025-06-20T16:47:39.475870614Z üîß Development mode starting...
2025-06-20T16:47:39.476055837Z üîÑ Updating source code...
2025-06-20T16:47:40.179492465Z From https://github.com/Panzah-Nexus/voice-pipeline
2025-06-20T16:47:40.179543869Z  * branch            cursor_oneshot -> FETCH_HEAD
2025-06-20T16:47:40.193424503Z Already up to date.
2025-06-20T16:47:40.194509652Z üìÅ Copying source code...
2025-06-20T16:47:40.198082601Z üöÄ Starting voice pipeline...
2025-06-20T16:47:40.800635237Z 2025-06-20 16:47:40.800 | INFO     | pipecat:<module>:14 - ·ìö·òè·ó¢ Pipecat 0.0.71 (Python 3.10.12 (main, May 27 2025, 17:12:29) [GCC 11.4.0]) ·ìö·òè·ó¢
2025-06-20T16:47:58.832310176Z ==========
2025-06-20T16:47:58.832363397Z == CUDA ==
2025-06-20T16:47:58.832495889Z ==========
2025-06-20T16:47:58.839043026Z CUDA Version 11.8.0
2025-06-20T16:47:58.841165968Z Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
2025-06-20T16:47:58.843674583Z This container image and its contents are governed by the NVIDIA Deep Learning Container License.
2025-06-20T16:47:58.843685409Z By pulling and using the container, you accept the terms and conditions of this license:
2025-06-20T16:47:58.843694838Z https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
2025-06-20T16:47:58.843736604Z A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
2025-06-20T16:47:58.887046494Z  * Starting OpenBSD Secure Shell server sshd
2025-06-20T16:47:58.906044862Z    ...done.
2025-06-20T16:47:58.906530689Z üîß Development mode starting...
2025-06-20T16:47:58.906761520Z üîÑ Updating source code...
2025-06-20T16:47:59.604649693Z From https://github.com/Panzah-Nexus/voice-pipeline
2025-06-20T16:47:59.604692577Z  * branch            cursor_oneshot -> FETCH_HEAD
2025-06-20T16:47:59.621900105Z Already up to date.
2025-06-20T16:47:59.623520109Z üìÅ Copying source code...
2025-06-20T16:47:59.628632046Z üöÄ Starting voice pipeline...
2025-06-20T16:48:00.097830337Z 2025-06-20 16:48:00.097 | INFO     | pipecat:<module>:14 - ·ìö·òè·ó¢ Pipecat 0.0.71 (Python 3.10.12 (main, May 27 2025, 17:12:29) [GCC 11.4.0]) ·ìö·òè·ó¢
2025-06-20T16:48:16.306686726Z 2025-06-20 16:48:16.306 | INFO     | src.pipecat_pipeline:<module>:58 - Loading UltravoxSTTService... this can take a while on first run.
2025-06-20T16:48:16.538980219Z Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T16:48:16.539013395Z 2025-06-20 16:48:16,538 - huggingface_hub._login - WARNING - Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
2025-06-20T16:48:16.648080104Z INFO 06-20 16:48:16 __init__.py:207] Automatically detected platform cuda.
2025-06-20T16:48:23.942689161Z INFO 06-20 16:48:23 config.py:549] This model supports multiple tasks: {'reward', 'score', 'classify', 'embed', 'generate'}. Defaulting to 'generate'.
2025-06-20T16:48:23.947470183Z INFO 06-20 16:48:23 llm_engine.py:234] Initializing a V0 LLM engine (v0.7.3) with config: model='fixie-ai/ultravox-v0_5-llama-3_1-8b', speculative_config=None, tokenizer='fixie-ai/ultravox-v0_5-llama-3_1-8b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, override_neuron_config=None, tokenizer_revision=None, trust_remote_code=True, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=auto, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto,  device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='xgrammar'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=fixie-ai/ultravox-v0_5-llama-3_1-8b, num_scheduler_steps=1, multi_step_stream_outputs=True, enable_prefix_caching=False, chunked_prefill_enabled=False, use_async_output_proc=True, disable_mm_preprocessor_cache=False, mm_processor_kwargs=None, pooler_config=None, compilation_config={"splitting_ops":[],"compile_sizes":[],"cudagraph_capture_sizes":[256,248,240,232,224,216,208,200,192,184,176,168,160,152,144,136,128,120,112,104,96,88,80,72,64,56,48,40,32,24,16,8,4,2,1],"max_capture_size":256}, use_cached_outputs=False,
2025-06-20T16:48:30.075331863Z INFO 06-20 16:48:30 cuda.py:229] Using Flash Attention backend.
2025-06-20T16:48:30.566114453Z INFO 06-20 16:48:30 model_runner.py:1110] Starting to load model fixie-ai/ultravox-v0_5-llama-3_1-8b...
2025-06-20T16:48:30.800249842Z INFO 06-20 16:48:30 config.py:3054] cudagraph sizes specified by model runner [1, 2, 4, 8, 16, 24, 32, 40, 48, 56, 64, 72, 80, 88, 96, 104, 112, 120, 128, 136, 144, 152, 160, 168, 176, 184, 192, 200, 208, 216, 224, 232, 240, 248, 256] is overridden by config [256, 128, 2, 1, 4, 136, 8, 144, 16, 152, 24, 160, 32, 168, 40, 176, 48, 184, 56, 192, 64, 200, 72, 208, 80, 216, 88, 120, 224, 96, 232, 104, 240, 112, 248]
2025-06-20T16:48:31.300280810Z INFO 06-20 16:48:31 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T16:48:31.574685272Z INFO 06-20 16:48:31 weight_utils.py:304] No model.safetensors.index.json found in remote.
2025-06-20T16:48:31.576131857Z Loading safetensors checkpoint shards:   0% Completed | 0/1 [00:00<?, ?it/s]
2025-06-20T16:48:31.856180458Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.57it/s]
2025-06-20T16:48:31.856438318Z Loading safetensors checkpoint shards: 100% Completed | 1/1 [00:00<00:00,  3.57it/s]
2025-06-20T16:48:32.140949108Z INFO 06-20 16:48:32 weight_utils.py:254] Using model weights format ['*.safetensors']
2025-06-20T16:48:32.428289510Z Loading safetensors checkpoint shards:   0% Completed | 0/4 [00:00<?, ?it/s]
2025-06-20T16:48:33.084394138Z Loading safetensors checkpoint shards:  25% Completed | 1/4 [00:00<00:01,  1.52it/s]
2025-06-20T16:48:33.874356120Z Loading safetensors checkpoint shards:  50% Completed | 2/4 [00:01<00:01,  1.36it/s]
2025-06-20T16:48:34.256998605Z Loading safetensors checkpoint shards:  75% Completed | 3/4 [00:01<00:00,  1.74it/s]
2025-06-20T16:48:34.847271683Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.72it/s]
2025-06-20T16:48:34.847402150Z Loading safetensors checkpoint shards: 100% Completed | 4/4 [00:02<00:00,  1.65it/s]
2025-06-20T16:48:35.311305306Z INFO 06-20 16:48:35 model_runner.py:1115] Loading model weights took 16.2698 GB
2025-06-20T16:48:49.067651120Z INFO 06-20 16:48:49 worker.py:267] Memory profiling takes 13.22 seconds
2025-06-20T16:48:49.067687997Z INFO 06-20 16:48:49 worker.py:267] the current vLLM instance can use total_gpu_memory (22.06GiB) x gpu_memory_utilization (0.90) = 19.85GiB
2025-06-20T16:48:49.067695959Z INFO 06-20 16:48:49 worker.py:267] model weights take 16.27GiB; non_torch_memory takes 0.05GiB; PyTorch activation peak memory takes 1.95GiB; the rest of the memory reserved for KV Cache is 1.59GiB.
2025-06-20T16:48:49.272417109Z INFO 06-20 16:48:49 executor_base.py:111] # cuda blocks: 813, # CPU blocks: 2048
2025-06-20T16:48:49.272459084Z INFO 06-20 16:48:49 executor_base.py:116] Maximum concurrency for 8192 tokens per request: 1.59x
2025-06-20T16:48:53.747059243Z INFO 06-20 16:48:53 model_runner.py:1434] Capturing cudagraphs for decoding. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI. If out-of-memory error occurs during cudagraph capture, consider decreasing `gpu_memory_utilization` or switching to eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.
2025-06-20T16:49:14.559362758Z Capturing CUDA graph shapes:   0%|          | 0/35 [00:00<?, ?it/s]Capturing CUDA graph shapes:   3%|‚ñé         | 1/35 [00:00<00:21,  1.61it/s]Capturing CUDA graph shapes:   6%|‚ñå         | 2/35 [00:01<00:20,  1.62it/s]Capturing CUDA graph shapes:   9%|‚ñä         | 3/35 [00:01<00:19,  1.63it/s]Capturing CUDA graph shapes:  11%|‚ñà‚ñè        | 4/35 [00:02<00:19,  1.55it/s]Capturing CUDA graph shapes:  14%|‚ñà‚ñç        | 5/35 [00:03<00:19,  1.54it/s]Capturing CUDA graph shapes:  17%|‚ñà‚ñã        | 6/35 [00:03<00:18,  1.61it/s]Capturing CUDA graph shapes:  20%|‚ñà‚ñà        | 7/35 [00:04<00:17,  1.61it/s]Capturing CUDA graph shapes:  23%|‚ñà‚ñà‚ñé       | 8/35 [00:05<00:16,  1.61it/s]Capturing CUDA graph shapes:  26%|‚ñà‚ñà‚ñå       | 9/35 [00:05<00:15,  1.63it/s]Capturing CUDA graph shapes:  29%|‚ñà‚ñà‚ñä       | 10/35 [00:06<00:15,  1.65it/s]Capturing CUDA graph shapes:  31%|‚ñà‚ñà‚ñà‚ñè      | 11/35 [00:06<00:14,  1.63it/s]Capturing CUDA graph shapes:  34%|‚ñà‚ñà‚ñà‚ñç      | 12/35 [00:07<00:14,  1.63it/s]Capturing CUDA graph shapes:  37%|‚ñà‚ñà‚ñà‚ñã      | 13/35 [00:08<00:13,  1.64it/s]Capturing CUDA graph shapes:  40%|‚ñà‚ñà‚ñà‚ñà      | 14/35 [00:08<00:12,  1.65it/s]Capturing CUDA graph shapes:  43%|‚ñà‚ñà‚ñà‚ñà‚ñé     | 15/35 [00:09<00:12,  1.66it/s]Capturing CUDA graph shapes:  46%|‚ñà‚ñà‚ñà‚ñà‚ñå     | 16/35 [00:09<00:11,  1.67it/s]Capturing CUDA graph shapes:  49%|‚ñà‚ñà‚ñà‚ñà‚ñä     | 17/35 [00:10<00:10,  1.67it/s]Capturing CUDA graph shapes:  51%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè    | 18/35 [00:10<00:10,  1.69it/s]Capturing CUDA graph shapes:  54%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç    | 19/35 [00:11<00:09,  1.69it/s]Capturing CUDA graph shapes:  57%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã    | 20/35 [00:12<00:08,  1.71it/s]Capturing CUDA graph shapes:  60%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    | 21/35 [00:12<00:08,  1.72it/s]Capturing CUDA graph shapes:  63%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé   | 22/35 [00:13<00:07,  1.72it/s]Capturing CUDA graph shapes:  66%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå   | 23/35 [00:13<00:07,  1.71it/s]Capturing CUDA graph shapes:  69%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä   | 24/35 [00:14<00:06,  1.72it/s]Capturing CUDA graph shapes:  71%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  | 25/35 [00:15<00:05,  1.73it/s]Capturing CUDA graph shapes:  74%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç  | 26/35 [00:15<00:05,  1.74it/s]Capturing CUDA graph shapes:  77%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã  | 27/35 [00:16<00:04,  1.73it/s]Capturing CUDA graph shapes:  80%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  | 28/35 [00:16<00:04,  1.72it/s]Capturing CUDA graph shapes:  83%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñé | 29/35 [00:17<00:03,  1.74it/s]Capturing CUDA graph shapes:  86%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 30/35 [00:17<00:02,  1.75it/s]Capturing CUDA graph shapes:  89%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä | 31/35 [00:18<00:02,  1.63it/s]Capturing CUDA graph shapes:  91%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè| 32/35 [00:19<00:01,  1.67it/s]Capturing CUDA graph shapes:  94%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç| 33/35 [00:19<00:01,  1.71it/s]Capturing CUDA graph shapes:  97%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñã| 34/35 [00:20<00:00,  1.75it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:20<00:00,  1.79it/s]Capturing CUDA graph shapes: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 35/35 [00:20<00:00,  1.68it/s]
2025-06-20T16:49:14.559701007Z INFO 06-20 16:49:14 model_runner.py:1562] Graph capturing finished in 21 secs, took 0.26 GiB
2025-06-20T16:49:14.560654921Z INFO 06-20 16:49:14 llm_engine.py:436] init engine (profile, create kv cache, warmup model) took 39.25 seconds
2025-06-20T16:49:15.367604355Z 2025-06-20 16:49:15.367 | INFO     | pipecat.services.ultravox.stt:__init__:223 - Initialized UltravoxSTTService with model: fixie-ai/ultravox-v0_5-llama-3_1-8b
2025-06-20T16:49:15.367655480Z 2025-06-20 16:49:15.367 | INFO     | src.pipecat_pipeline:<module>:67 - Ultravox model initialized successfully!
2025-06-20T16:49:15.371657265Z 2025-06-20 16:49:15,371 - root - INFO - Starting voice pipeline server on 0.0.0.0:8000
2025-06-20T16:49:15.397754738Z INFO:     Started server process [70]
2025-06-20T16:49:15.397787844Z INFO:     Waiting for application startup.
2025-06-20T16:49:15.398332408Z INFO:     Application startup complete.
2025-06-20T16:49:15.398667863Z INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-06-20T16:49:38.532026705Z 2025-06-20 16:49:38,531 - root - INFO - Connect request - returning WebSocket URL: wss://od4i1xsnp7lvzh-8000.proxy.runpod.net/ws
2025-06-20T16:49:38.532065677Z 2025-06-20 16:49:38,531 - root - INFO - Request headers: x-forwarded-host=od4i1xsnp7lvzh-8000.proxy.runpod.net, x-forwarded-proto=https
2025-06-20T16:49:38.533921052Z INFO:     100.64.0.36:60262 - "POST /connect HTTP/1.1" 200 OK
2025-06-20T16:49:38.821864268Z INFO:     ('100.64.0.36', 60264) - "WebSocket /ws" [accepted]
2025-06-20T16:49:38.821897653Z WebSocket connection accepted
2025-06-20T16:49:38.822178910Z 2025-06-20 16:49:38.821 | DEBUG    | pipecat.audio.vad.silero:__init__:111 - Loading Silero VAD model...
2025-06-20T16:49:38.921192931Z 2025-06-20 16:49:38.919 | DEBUG    | pipecat.audio.vad.silero:__init__:133 - Loaded Silero VAD
2025-06-20T16:49:38.921209274Z 2025-06-20 16:49:38,920 - src.piper_tts_service - INFO - Initialized Piper TTS with model: en_US-lessac-medium
2025-06-20T16:49:38.921804894Z 2025-06-20 16:49:38.921 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineSource#0 -> FastAPIWebsocketInputTransport#0
2025-06-20T16:49:38.921919925Z 2025-06-20 16:49:38.921 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketInputTransport#0 -> RTVIProcessor#0
2025-06-20T16:49:38.922049274Z 2025-06-20 16:49:38.921 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking RTVIProcessor#0 -> UltravoxSTTService#0
2025-06-20T16:49:38.922186026Z 2025-06-20 16:49:38.922 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking UltravoxSTTService#0 -> PiperTTSService#0
2025-06-20T16:49:38.922319426Z 2025-06-20 16:49:38.922 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PiperTTSService#0 -> FastAPIWebsocketOutputTransport#0
2025-06-20T16:49:38.922453454Z 2025-06-20 16:49:38.922 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking FastAPIWebsocketOutputTransport#0 -> PipelineSink#0
2025-06-20T16:49:38.923013524Z 2025-06-20 16:49:38.922 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking PipelineTaskSource#0 -> Pipeline#0
2025-06-20T16:49:38.923238697Z 2025-06-20 16:49:38.923 | DEBUG    | pipecat.processors.frame_processor:link:202 - Linking Pipeline#0 -> PipelineTaskSink#0
2025-06-20T16:49:38.923509967Z 2025-06-20 16:49:38.923 | DEBUG    | pipecat.pipeline.runner:run:38 - Runner PipelineRunner#0 started running PipelineTask#0
2025-06-20T16:49:38.924942443Z INFO:     connection open
2025-06-20T16:49:38.926756750Z 2025-06-20 16:49:38.926 | INFO     | pipecat.services.ultravox.stt:_warm_up_model:232 - Warming up Ultravox model with silent audio...
2025-06-20T16:49:38.926955663Z 2025-06-20 16:49:38.926 | INFO     | pipecat.services.ultravox.stt:_generate_silent_audio:272 - Generated 1s of silent audio (16000 samples)
2025-06-20T16:49:39.040357237Z INFO 06-20 16:49:39 async_llm_engine.py:211] Added request 1750438179.0397332.
2025-06-20T16:49:47.612605234Z INFO 06-20 16:49:47 metrics.py:455] Avg prompt throughput: 1.3 tokens/s, Avg generation throughput: 0.0 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.4%, CPU KV cache usage: 0.0%.
2025-06-20T16:49:50.659059756Z INFO 06-20 16:49:50 async_llm_engine.py:179] Finished request 1750438179.0397332.
2025-06-20T16:49:50.718352201Z 2025-06-20 16:49:50.717 | INFO     | pipecat.services.ultravox.stt:_warm_up_model:252 - Model warm-up completed successfully
2025-06-20T16:49:50.718497195Z 2025-06-20 16:49:50.718 | INFO     | pipecat.services.ultravox.stt:start:294 - UltravoxSTTService started
2025-06-20T16:49:50.720336297Z 2025-06-20 16:49:50.720 | DEBUG    | pipecat.audio.vad.vad_analyzer:set_params:74 - Setting VAD params to: confidence=0.7 start_secs=0.2 stop_secs=0.8 min_volume=0.6
2025-06-20T16:49:50.725291366Z 2025-06-20 16:49:50.725 | INFO     | src.pipecat_pipeline:on_client_connected:125 - Pipecat Client connected
2025-06-20T16:49:50.725646866Z 2025-06-20 16:49:50.725 | DEBUG    | pipecat.serializers.protobuf:deserialize:106 - ProtobufFrameSerializer: Transport message TransportMessageUrgentFrame#1(message: {'label': 'rtvi-ai', 'type': 'client-ready', 'data': {}, 'id': '018c0ff5'})
2025-06-20T16:49:50.729799582Z 2025-06-20 16:49:50.729 | DEBUG    | pipecat.processors.frameworks.rtvi:_handle_client_ready:844 - Received client-ready
2025-06-20T16:49:50.732692472Z 2025-06-20 16:49:50.732 | INFO     | src.pipecat_pipeline:on_client_ready:119 - Pipecat client ready.
2025-06-20T16:50:04.697703251Z 2025-06-20 16:50:04.697 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:50:04.697971447Z 2025-06-20 16:50:04.697 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:50:06.821382379Z 2025-06-20 16:50:06.820 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:50:06.821670551Z 2025-06-20 16:50:06.821 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:50:06.822879181Z 2025-06-20 16:50:06.822 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:50:06.824088999Z INFO 06-20 16:50:06 async_llm_engine.py:211] Added request 1750438206.8235004.
2025-06-20T16:50:07.303313228Z INFO 06-20 16:50:07 metrics.py:455] Avg prompt throughput: 2.5 tokens/s, Avg generation throughput: 2.5 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.5%, CPU KV cache usage: 0.0%.
2025-06-20T16:50:07.310864705Z 2025-06-20 16:50:07.310 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.487612247467041
2025-06-20T16:50:07.940799433Z 2025-06-20 16:50:07,938 - src.piper_tts_service - INFO - Generating speech for: I'm an artificial intelligence model known as Llam...
2025-06-20T16:50:07.943682964Z 2025-06-20 16:50:07,943 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:07.946432537Z 2025-06-20 16:50:07.946 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#0(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:07.946450207Z , fatal: False)
2025-06-20T16:50:08.676643485Z INFO 06-20 16:50:08 async_llm_engine.py:179] Finished request 1750438206.8235004.
2025-06-20T16:50:08.690140892Z 2025-06-20 16:50:08.689 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 1.8667874336242676
2025-06-20T16:50:08.696667006Z 2025-06-20 16:50:08,696 - src.piper_tts_service - INFO - Generating speech for:  Llama stands for "Large Language Model Meta AI."...
2025-06-20T16:50:08.703767159Z 2025-06-20 16:50:08,703 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:08.708382862Z 2025-06-20 16:50:08.708 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#1(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:08.708410101Z , fatal: False)
2025-06-20T16:50:18.618690904Z 2025-06-20 16:50:18.618 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:50:18.618867677Z 2025-06-20 16:50:18.618 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:50:21.156330185Z 2025-06-20 16:50:21.155 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:50:21.156524418Z 2025-06-20 16:50:21.156 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:50:21.157814136Z 2025-06-20 16:50:21.157 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:50:21.158695064Z INFO 06-20 16:50:21 async_llm_engine.py:211] Added request 1750438221.1583052.
2025-06-20T16:50:21.601130768Z INFO 06-20 16:50:21 metrics.py:455] Avg prompt throughput: 3.6 tokens/s, Avg generation throughput: 1.6 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.5%, CPU KV cache usage: 0.0%.
2025-06-20T16:50:21.603774598Z 2025-06-20 16:50:21.603 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.44562530517578125
2025-06-20T16:50:22.115358549Z 2025-06-20 16:50:22,115 - src.piper_tts_service - INFO - Generating speech for: You can speak to me however you want....
2025-06-20T16:50:22.119143751Z 2025-06-20 16:50:22,118 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:22.121818941Z 2025-06-20 16:50:22.121 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#2(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:22.121851139Z , fatal: False)
2025-06-20T16:50:23.236918101Z 2025-06-20 16:50:23,236 - src.piper_tts_service - INFO - Generating speech for:  I'm here to help answer your questions, provide i...
2025-06-20T16:50:23.241300111Z 2025-06-20 16:50:23,241 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:23.243938214Z 2025-06-20 16:50:23.243 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#3(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:23.243959167Z , fatal: False)
2025-06-20T16:50:24.975278157Z 2025-06-20 16:50:24,974 - src.piper_tts_service - INFO - Generating speech for:  Feel free to express yourself in any way you'd li...
2025-06-20T16:50:24.979332394Z 2025-06-20 16:50:24,979 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:24.981936065Z 2025-06-20 16:50:24.981 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#4(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:24.981951291Z , fatal: False)
2025-06-20T16:50:25.475887774Z 2025-06-20 16:50:25,475 - src.piper_tts_service - INFO - Generating speech for:  I'm here to listen and respond....
2025-06-20T16:50:25.480404510Z 2025-06-20 16:50:25,480 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:25.483091433Z 2025-06-20 16:50:25.482 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#5(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:25.483116716Z , fatal: False)
2025-06-20T16:50:25.980245296Z 2025-06-20 16:50:25,979 - src.piper_tts_service - INFO - Generating speech for:  How's your day going so far?...
2025-06-20T16:50:25.984560396Z 2025-06-20 16:50:25,984 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:25.987835955Z 2025-06-20 16:50:25.987 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#6(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:25.987856838Z , fatal: False)
2025-06-20T16:50:26.035585475Z INFO 06-20 16:50:26 async_llm_engine.py:179] Finished request 1750438221.1583052.
2025-06-20T16:50:26.048799529Z 2025-06-20 16:50:26.048 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 4.890563726425171
2025-06-20T16:50:26.459876639Z 2025-06-20 16:50:26.459 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:50:26.460046427Z 2025-06-20 16:50:26.459 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:50:27.556528282Z 2025-06-20 16:50:27.556 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:50:27.556794592Z 2025-06-20 16:50:27.556 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:50:27.558705213Z 2025-06-20 16:50:27.558 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:50:27.559644529Z INFO 06-20 16:50:27 async_llm_engine.py:211] Added request 1750438227.559242.
2025-06-20T16:50:27.888235227Z INFO 06-20 16:50:27 metrics.py:455] Avg prompt throughput: 9.5 tokens/s, Avg generation throughput: 11.5 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.5%, CPU KV cache usage: 0.0%.
2025-06-20T16:50:27.894362888Z 2025-06-20 16:50:27.893 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.3352973461151123
2025-06-20T16:50:29.608504732Z 2025-06-20 16:50:29,608 - src.piper_tts_service - INFO - Generating speech for: It seems like you were about to ask a question or ...
2025-06-20T16:50:29.612681333Z 2025-06-20 16:50:29,612 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:29.615211390Z 2025-06-20 16:50:29.614 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#7(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:29.615227943Z , fatal: False)
2025-06-20T16:50:30.421246512Z 2025-06-20 16:50:30,420 - src.piper_tts_service - INFO - Generating speech for:
2025-06-20T16:50:30.421281294Z You can definitely interrupt me or clarify anyt...
2025-06-20T16:50:30.425701716Z 2025-06-20 16:50:30,425 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:30.428168076Z 2025-06-20 16:50:30.427 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#8(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:30.428193010Z , fatal: False)
2025-06-20T16:50:30.981068324Z 2025-06-20 16:50:30,980 - src.piper_tts_service - INFO - Generating speech for:  I'm here to help and provide information....
2025-06-20T16:50:30.985107265Z 2025-06-20 16:50:30,984 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:30.987609245Z 2025-06-20 16:50:30.987 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#9(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:30.987626496Z , fatal: False)
2025-06-20T16:50:31.746385702Z 2025-06-20 16:50:31,746 - src.piper_tts_service - INFO - Generating speech for:  Please go ahead and ask your question or make you...
2025-06-20T16:50:31.750886025Z 2025-06-20 16:50:31,750 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:31.753833323Z 2025-06-20 16:50:31.753 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#10(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:31.753854415Z , fatal: False)
2025-06-20T16:50:31.805044324Z INFO 06-20 16:50:31 async_llm_engine.py:179] Finished request 1750438227.559242.
2025-06-20T16:50:31.808600092Z 2025-06-20 16:50:31.808 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 4.2495927810668945
2025-06-20T16:50:35.363880052Z 2025-06-20 16:50:35.363 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:50:35.364169691Z 2025-06-20 16:50:35.363 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:50:43.045786411Z 2025-06-20 16:50:43.045 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:50:43.046197855Z 2025-06-20 16:50:43.045 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:50:43.051736113Z 2025-06-20 16:50:43.051 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:50:43.053374137Z INFO 06-20 16:50:43 async_llm_engine.py:211] Added request 1750438243.0527015.
2025-06-20T16:50:43.189330127Z INFO 06-20 16:50:43 metrics.py:455] Avg prompt throughput: 5.4 tokens/s, Avg generation throughput: 4.1 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.7%, CPU KV cache usage: 0.0%.
2025-06-20T16:50:43.200872982Z 2025-06-20 16:50:43.200 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.14876198768615723
2025-06-20T16:50:43.630172646Z 2025-06-20 16:50:43,629 - src.piper_tts_service - INFO - Generating speech for: I think there may be some confusion....
2025-06-20T16:50:43.635267541Z 2025-06-20 16:50:43,635 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:43.638298860Z 2025-06-20 16:50:43.638 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#11(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:43.638324422Z , fatal: False)
2025-06-20T16:50:45.395925760Z 2025-06-20 16:50:45,395 - src.piper_tts_service - INFO - Generating speech for:  I'm an AI assistant, and it's not possible for me...
2025-06-20T16:50:45.401108238Z 2025-06-20 16:50:45,400 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:45.404412153Z 2025-06-20 16:50:45.404 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#12(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:45.404430382Z , fatal: False)
2025-06-20T16:50:47.338853870Z 2025-06-20 16:50:47,338 - src.piper_tts_service - INFO - Generating speech for:  Ultravox is actually a British new wave and synth...
2025-06-20T16:50:47.344589922Z 2025-06-20 16:50:47,344 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:47.347451872Z 2025-06-20 16:50:47.347 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#13(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:47.347464653Z , fatal: False)
2025-06-20T16:50:48.211298142Z INFO 06-20 16:50:48 metrics.py:455] Avg prompt throughput: 0.0 tokens/s, Avg generation throughput: 15.9 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 1.4%, CPU KV cache usage: 0.0%.
2025-06-20T16:50:48.720795888Z 2025-06-20 16:50:48,720 - src.piper_tts_service - INFO - Generating speech for:  They are known for their hit songs like "Vienna" ...
2025-06-20T16:50:48.724966064Z 2025-06-20 16:50:48,724 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:48.728052558Z 2025-06-20 16:50:48.727 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#14(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:48.728092858Z , fatal: False)
2025-06-20T16:50:50.119863159Z 2025-06-20 16:50:50,119 - src.piper_tts_service - INFO - Generating speech for: However, I'm happy to chat with you about Ultravox...
2025-06-20T16:50:50.125976013Z 2025-06-20 16:50:50,125 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:50.128873583Z 2025-06-20 16:50:50.128 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#15(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:50.128888110Z , fatal: False)
2025-06-20T16:50:50.178513050Z INFO 06-20 16:50:50 async_llm_engine.py:179] Finished request 1750438243.0527015.
2025-06-20T16:50:50.180640812Z 2025-06-20 16:50:50.180 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 7.1286780834198
2025-06-20T16:50:50.250399765Z 2025-06-20 16:50:50.250 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:50:50.250619001Z 2025-06-20 16:50:50.250 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:50:50.636365582Z 2025-06-20 16:50:50.635 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:50:50.636702364Z 2025-06-20 16:50:50.636 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:50:50.637962818Z 2025-06-20 16:50:50.637 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:50:50.639151822Z INFO 06-20 16:50:50 async_llm_engine.py:211] Added request 1750438250.6386576.
2025-06-20T16:50:50.817173662Z 2025-06-20 16:50:50.816 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.17891931533813477
2025-06-20T16:50:53.213941274Z INFO 06-20 16:50:53 metrics.py:455] Avg prompt throughput: 9.6 tokens/s, Avg generation throughput: 14.0 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.7%, CPU KV cache usage: 0.0%.
2025-06-20T16:50:53.678244420Z 2025-06-20 16:50:53,677 - src.piper_tts_service - INFO - Generating speech for: It seems like you've been charged with a crime, sp...
2025-06-20T16:50:53.682014467Z 2025-06-20 16:50:53,681 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:53.684673523Z 2025-06-20 16:50:53.684 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#16(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:53.684689238Z , fatal: False)
2025-06-20T16:50:54.893844904Z 2025-06-20 16:50:54,893 - src.piper_tts_service - INFO - Generating speech for: Could you please provide more details or clarify w...
2025-06-20T16:50:54.898061386Z 2025-06-20 16:50:54,897 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:54.900416835Z 2025-06-20 16:50:54.900 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#17(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:54.900430594Z , fatal: False)
2025-06-20T16:50:55.631352682Z 2025-06-20 16:50:55,631 - src.piper_tts_service - INFO - Generating speech for:  This will help me offer a more informed and relev...
2025-06-20T16:50:55.635602549Z 2025-06-20 16:50:55,635 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:55.638243306Z 2025-06-20 16:50:55.637 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#18(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:50:55.638256786Z , fatal: False)
2025-06-20T16:50:55.687662978Z INFO 06-20 16:50:55 async_llm_engine.py:179] Finished request 1750438250.6386576.
2025-06-20T16:50:55.693411323Z 2025-06-20 16:50:55.692 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 5.054938316345215
2025-06-20T16:50:56.899533994Z 2025-06-20 16:50:56.899 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:50:56.899788781Z 2025-06-20 16:50:56.899 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:50:59.202906092Z 2025-06-20 16:50:59.202 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:50:59.203181902Z 2025-06-20 16:50:59.202 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:50:59.207312547Z 2025-06-20 16:50:59.207 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:50:59.208377999Z INFO 06-20 16:50:59 async_llm_engine.py:211] Added request 1750438259.2079372.
2025-06-20T16:50:59.457074432Z INFO 06-20 16:50:59 metrics.py:455] Avg prompt throughput: 12.0 tokens/s, Avg generation throughput: 6.4 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.6%, CPU KV cache usage: 0.0%.
2025-06-20T16:50:59.457521286Z 2025-06-20 16:50:59.457 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.24987339973449707
2025-06-20T16:51:02.053776235Z 2025-06-20 16:51:02,050 - src.piper_tts_service - INFO - Generating speech for: It sounds like you're talking about a project or f...
2025-06-20T16:51:02.055795391Z 2025-06-20 16:51:02,055 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:02.059755899Z 2025-06-20 16:51:02.057 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#19(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:02.059769239Z , fatal: False)
2025-06-20T16:51:02.991816408Z 2025-06-20 16:51:02,991 - src.piper_tts_service - INFO - Generating speech for:  I'd be happy to help clarify or provide more info...
2025-06-20T16:51:02.995957529Z 2025-06-20 16:51:02,995 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:02.998441210Z 2025-06-20 16:51:02.998 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#20(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:02.998457065Z , fatal: False)
2025-06-20T16:51:03.043737221Z INFO 06-20 16:51:03 async_llm_engine.py:179] Finished request 1750438259.2079372.
2025-06-20T16:51:03.055471167Z 2025-06-20 16:51:03.055 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 3.847951889038086
2025-06-20T16:51:03.117690376Z 2025-06-20 16:51:03.117 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:51:03.118001596Z 2025-06-20 16:51:03.117 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:51:03.639375835Z 2025-06-20 16:51:03.639 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:51:03.639555890Z 2025-06-20 16:51:03.639 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:51:03.641555840Z 2025-06-20 16:51:03.641 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:51:03.642461981Z INFO 06-20 16:51:03 async_llm_engine.py:211] Added request 1750438263.642074.
2025-06-20T16:51:03.892886115Z 2025-06-20 16:51:03.892 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.2509329319000244
2025-06-20T16:51:04.459350609Z INFO 06-20 16:51:04 metrics.py:455] Avg prompt throughput: 11.4 tokens/s, Avg generation throughput: 13.4 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.6%, CPU KV cache usage: 0.0%.
2025-06-20T16:51:05.038219470Z 2025-06-20 16:51:05,037 - src.piper_tts_service - INFO - Generating speech for: I may be an AI, but I'm not just an LLM (Large Lan...
2025-06-20T16:51:05.042769800Z 2025-06-20 16:51:05,042 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:05.045362087Z 2025-06-20 16:51:05.045 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#21(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:05.045380316Z , fatal: False)
2025-06-20T16:51:06.414276042Z 2025-06-20 16:51:06,413 - src.piper_tts_service - INFO - Generating speech for:  I have been trained on a vast amount of text data...
2025-06-20T16:51:06.418437208Z 2025-06-20 16:51:06,418 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:06.421218559Z 2025-06-20 16:51:06.420 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#22(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:06.421237836Z , fatal: False)
2025-06-20T16:51:07.556809188Z 2025-06-20 16:51:07,556 - src.piper_tts_service - INFO - Generating speech for: However, I must admit that I'm not familiar with U...
2025-06-20T16:51:07.561115836Z 2025-06-20 16:51:07,560 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:07.563984631Z 2025-06-20 16:51:07.563 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#23(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:07.564004676Z , fatal: False)
2025-06-20T16:51:08.419467851Z 2025-06-20 16:51:08,419 - src.piper_tts_service - INFO - Generating speech for:  Could you please provide more context or informat...
2025-06-20T16:51:08.423638515Z 2025-06-20 16:51:08,423 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:08.426296734Z 2025-06-20 16:51:08.426 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#24(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:08.426314474Z , fatal: False)
2025-06-20T16:51:09.473113279Z INFO 06-20 16:51:09 metrics.py:455] Avg prompt throughput: 0.0 tokens/s, Avg generation throughput: 16.0 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 1.2%, CPU KV cache usage: 0.0%.
2025-06-20T16:51:09.733152048Z 2025-06-20 16:51:09,732 - src.piper_tts_service - INFO - Generating speech for:  I'd be happy to learn more and help you with any ...
2025-06-20T16:51:09.737236527Z 2025-06-20 16:51:09,737 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:09.739860033Z 2025-06-20 16:51:09.739 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#25(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:09.739890554Z , fatal: False)
2025-06-20T16:51:09.784400764Z INFO 06-20 16:51:09 async_llm_engine.py:179] Finished request 1750438263.642074.
2025-06-20T16:51:09.790478348Z 2025-06-20 16:51:09.790 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 6.14867639541626
2025-06-20T16:51:14.615826494Z 2025-06-20 16:51:14.615 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:51:14.616049991Z 2025-06-20 16:51:14.615 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:51:17.476373151Z 2025-06-20 16:51:17.475 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:51:17.476768601Z 2025-06-20 16:51:17.476 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:51:17.478421292Z 2025-06-20 16:51:17.478 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:51:17.479527882Z INFO 06-20 16:51:17 async_llm_engine.py:211] Added request 1750438277.4789727.
2025-06-20T16:51:17.603977335Z INFO 06-20 16:51:17 metrics.py:455] Avg prompt throughput: 6.5 tokens/s, Avg generation throughput: 0.7 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.5%, CPU KV cache usage: 0.0%.
2025-06-20T16:51:17.610782123Z 2025-06-20 16:51:17.610 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.13201475143432617
2025-06-20T16:51:18.612366424Z 2025-06-20 16:51:18,611 - src.piper_tts_service - INFO - Generating speech for: I'm just a large language model, I don't have feel...
2025-06-20T16:51:18.617243199Z 2025-06-20 16:51:18,616 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:18.620578055Z 2025-06-20 16:51:18.620 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#26(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:18.620614234Z , fatal: False)
2025-06-20T16:51:19.928665746Z 2025-06-20 16:51:19,928 - src.piper_tts_service - INFO - Generating speech for:  I'm here to provide information and assist with t...
2025-06-20T16:51:19.933730679Z 2025-06-20 16:51:19,933 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:19.937013501Z 2025-06-20 16:51:19.936 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#27(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:19.937041439Z , fatal: False)
2025-06-20T16:51:20.335686035Z 2025-06-20 16:51:20,334 - src.piper_tts_service - INFO - Generating speech for:  How can I help you today?...
2025-06-20T16:51:20.340172389Z 2025-06-20 16:51:20,339 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:20.343518001Z 2025-06-20 16:51:20.343 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#28(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:20.343546636Z , fatal: False)
2025-06-20T16:51:20.392541454Z INFO 06-20 16:51:20 async_llm_engine.py:179] Finished request 1750438277.4789727.
2025-06-20T16:51:20.395285020Z 2025-06-20 16:51:20.394 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 2.9165170192718506
2025-06-20T16:51:20.526940229Z 2025-06-20 16:51:20.526 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:51:20.527247886Z 2025-06-20 16:51:20.526 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:51:20.907703104Z 2025-06-20 16:51:20.907 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:265 - User stopped speaking
2025-06-20T16:51:20.908247110Z 2025-06-20 16:51:20.907 | INFO     | pipecat.services.ultravox.stt:process_frame:338 - Speech ended, processing buffer...
2025-06-20T16:51:20.909333655Z 2025-06-20 16:51:20.909 | INFO     | pipecat.services.ultravox.stt:_process_audio_buffer:405 - Generating text from audio using model...
2025-06-20T16:51:20.910388771Z INFO 06-20 16:51:20 async_llm_engine.py:211] Added request 1750438280.9098814.
2025-06-20T16:51:21.068734208Z 2025-06-20 16:51:21.068 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_ttfb_metrics:69 - UltravoxSTTService#0 TTFB: 0.15902233123779297
2025-06-20T16:51:21.700811575Z 2025-06-20 16:51:21,700 - src.piper_tts_service - INFO - Generating speech for: It seems like you're referencing a well-known phra...
2025-06-20T16:51:21.705809388Z 2025-06-20 16:51:21,705 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:21.709077754Z 2025-06-20 16:51:21.708 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#29(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:21.709098706Z , fatal: False)
2025-06-20T16:51:22.612180655Z INFO 06-20 16:51:22 metrics.py:455] Avg prompt throughput: 9.4 tokens/s, Avg generation throughput: 14.2 tokens/s, Running: 1 reqs, Swapped: 0 reqs, Pending: 0 reqs, GPU KV cache usage: 0.6%, CPU KV cache usage: 0.0%.
2025-06-20T16:51:23.502545272Z 2025-06-20 16:51:23,502 - src.piper_tts_service - INFO - Generating speech for:  "Definitely Justin Hall" is often used humorously...
2025-06-20T16:51:23.507697648Z 2025-06-20 16:51:23,507 - src.piper_tts_service - ERROR - Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:23.511565404Z 2025-06-20 16:51:23.510 | WARNING  | pipecat.pipeline.task:_process_up_queue:580 - Something went wrong: ErrorFrame#30(error: Piper failed with code 127: /usr/local/bin/piper: error while loading shared libraries: libespeak-ng.so.1: cannot open shared object file: No such file or directory
2025-06-20T16:51:23.511579792Z , fatal: False)
2025-06-20T16:51:23.556445432Z INFO 06-20 16:51:23 async_llm_engine.py:179] Finished request 1750438280.9098814.
2025-06-20T16:51:23.558278666Z 2025-06-20 16:51:23.557 | DEBUG    | pipecat.processors.metrics.frame_processor_metrics:stop_processing_metrics:84 - UltravoxSTTService#0 processing time: 2.6487343311309814
2025-06-20T16:51:30.180670214Z 2025-06-20 16:51:30.180 | DEBUG    | pipecat.transports.base_input:_handle_user_interruption:242 - User started speaking
2025-06-20T16:51:30.180948608Z 2025-06-20 16:51:30.180 | INFO     | pipecat.services.ultravox.stt:process_frame:329 - Speech started
2025-06-20T16:51:32.369553774Z INFO:     connection closed
2025-06-20T16:51:32.369804371Z 2025-06-20 16:51:32.369 | INFO     | src.pipecat_pipeline:on_client_disconnected:129 - Pipecat Client disconnected
2025-06-20T16:51:32.369960190Z 2025-06-20 16:51:32.369 | DEBUG    | pipecat.pipeline.task:_cancel:419 - Canceling pipeline task PipelineTask#0
2025-06-20T16:51:32.372936263Z 2025-06-20 16:51:32.372 | INFO     | pipecat.services.ultravox.stt:cancel:315 - UltravoxSTTService cancelled
2025-06-20T16:51:32.374285417Z 2025-06-20 16:51:32.374 | WARNING  | pipecat.serializers.protobuf:serialize:64 - Frame type <class 'pipecat.frames.frames.CancelFrame'> is not serializable
2025-06-20T16:51:32.376272446Z 2025-06-20 16:51:32.376 | DEBUG    | pipecat.pipeline.runner:run:55 - Runner PipelineRunner#0 finished running PipelineTask#0